if (BoxMode == "Event")
    if (NearestKinetopede.TypeOfEnemy == "ArachnoPirates")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("A")
            ("RACHNO-PIRATES")
            ("Webs fly like flags. It skitters closer, face-parts clickering madly, eight eyes bulging, the cannons on its back swivelling in your direction.")
            NeedsMoney("Pay them to go away.", "They don't have radios, of course, so you're forced to broadcast your offer on the loudspeaker.", "[You will lose 250 G.]", sMoneyArt, 0, 0.8, 250)
            ("Defend yourself.", "The arachno-pirates like to rely on intimidation. Call their bluff.", "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Hissing and screeching, the spider curls in on itself and expires.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The spider hisses and clicks its mouthparts, but its crew are dead and it's too hurt to fight.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("A")
            ("RACHNO-PIRATES")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the monstrous spider follows."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the monstrous spider follows.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "WitchHunters")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("W")
            ("ITCH-HUNTERS")
            ("It skitters toward you obscenely fast, fangs gleaming in the dull light of the burning torches held by its crew.")
            ("They examine your kinetopede through coloured lenses, waving divining-rods and bells. Abruptly, they order their cannons ready. They've sensed something of the occult about you.")
            ("Remind them of the Governor's wrath.", "Strictly speaking, they shouldn't be attacking any occultists from the City of Keys. There's a treaty.", sMoneyArt, 0, 0.8, "Spirit", 45)
            ("Defend yourself.", "If they win, they'll drag you back to some gods-forsaken hovel and burn you at the stake.", "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1 && WasChallengeSuccessful == 1)
            ("W")
            ("ITCH-HUNTERS")
            ("Grumbling, the witch-hunters douse their torches. Yes, they suppose there is a treaty in place. They warn you to leave before they change their minds.")
            ("(You passed a Spirit challenge!)", "Challenge", 7)
            ("The spider skitters horribly back into shadow.", "")
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1 && WasChallengeSuccessful == 0)
            ("W")
            ("ITCH-HUNTERS")
            ("A treaty? That was Lord Aranach who agreed to a treaty, not them. He has no sovereignty out here.")
            ("(You failed a Spirit challenge...)", "Challenge", 7)
            ("Defend yourself.", "The witch-hunters laugh. Their torches cast the ceiling above in flickering light.", "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Hissing and screeching, the spider curls in on itself and expires.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The spider hisses and clicks its mouthparts, but its crew are dead and it's too hurt to fight.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("W")
            ("ITCH-HUNTERS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the monstrous spider follows."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the monstrous spider follows.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "Sempsters")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("M")
            ("AD SEMPSTERS")
            ("Exiles from Gossamer Smile. Workers at Lord Aranach's Loom, driven mad by the scope of his project, wearing robes of shucked spider-skin and screaming of the oncoming awakening.")
            NeedsRelationshipsItem("Invoke their old Lord's name.", "They still fear his wrath.", "[Requires x1 Lord Aranach's Favour.]", sMoneyArt, 0, 0.85, HasAranach)
            ("Defend yourself.", '"' + "One day it will wake!" + '"' + " they scream. " + '"' + "It will be our judge!" + '"', "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1)
            ("M")
            ("AD SEMPSTERS")
            ((((("The sempsters shriek in fear and their spider backs away, its great legs skidding. " + '"' + "It knows you, " + oPlayer.PlayerName) + "!") + '"') + " they warn shrilly as they leave."))
            ("Gained x1 Disquieting Incident", "Logbook", 3)
            ("Lost x1 Lord Aranach's Favour", "Reputation", 5)
            ("Odd. You never gave your name.", "")
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Hissing and screeching, the spider curls in on itself and expires.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The spider hisses and clicks its mouthparts, but its crew are dead and it's too hurt to fight.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("M")
            ("AD SEMPSTERS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the monstrous spider follows."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the monstrous spider follows.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Spider", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
