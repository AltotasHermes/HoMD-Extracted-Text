if (BoxMode == "Event")
            oPlayer.LastVisitedForSavePurposes = "The City of Engines"
            FileSelected = "SaveFile0.homd"
        else if (DialogueScreen == "FirstScreen")
                ("T")
                ("HE CITY OF ENGINES")
                ("A city of moving metal. The air swarms with flying machines, and below them the city turns on colossal, groaning cogs. Beyond the bustle and the madness, Tarwater Bay lurks, black and still as volcanic stone.")
                ("Here, the impossible is routine, and even the House's tenuous laws of reality are completely suspended. Provided that you build a good enough machine to suspend them.")
                    (("New location visited. " + ApprehensionsString), "Logbook", 4)
                        FileSelected = "SaveFile0.homd"
                    if (oPlayer.Recordkeeper == "Harmony Ricketts")
                        ("Harmony wants to visit a chopshop.")
                    ("Bring a memory to the anthroparion.")
                    if (oPlayer.ChiefEngineer == "Gladys Skarter")
                        ("Help Gladys track down Dr. Bellweather.")
                    ("A bedraggled, white-coated man has washed up on the Tarwater shore.", "You stumble across him lying face-down in the rust-fleck sand.")
                if (ConcernsReturnNumberOfItems(125) == 1 && oPlayer.ChiefEngineer == "Dr Henry Delgado")
                    ("Dr Henry Delgado wants to visit the Hostage-King.", "The exile beneath Tarwater Bay.")
                if ((ConcernsReturnNumberOfItems(125) == 8 || (oInventories.LaplaceDead == 1 && global.ConcernsConcludedFlag[3] == 0)) && oPlayer.ChiefEngineer == "Dr Henry Delgado")
                    ("Return to the Hostage-King.", "Slip beneath the grime-black water. The exile is waiting beneath Tarwater Bay.")
                    NeedsMoney("Rest and recover.", "You've spent a long time in darkness. Your crew need a few days to blow off steam.", "[This will recover some of your Sanity, but will cost you 20 guineas.]", 20)
                    ("Gather news.", "The streets are a cacophony of competing voices - mechanical, telepathic, human. The problem isn't finding news, it's sorting the vaguely legitimate-sounding from the outright lies.", "")
                        ("Repair your hull.", "The church of Cobblestone will work for you for free.")
                        NeedsMoney("Repair your hull.", "You can have your engineers help out, but it'll still cost ya.", (("[This will cost you " + string(FixCost)) + " guineas.]"), FixCost)
                if (oPlayer.LastVisited != "The City of Engines" && global.CityofEngines == 0)
                    ("Wander the streets.", "This city is a self-perpetuating machine, endlessly turning, endlessly producing machinery. There is more to see here than you could manage in one lifetime.", "")
                    ("A prospective passenger.", "A hunched figure waves you down at the station.")
                    ("Drop off your human passenger.", "", "[They will give you 100 G.]")
                    ("Drop off your ghoul passenger.", "", "[They will give you 100 G.]")
                ("Advertise for a new crewmember.", "The Seven Cities have no shortage of useful souls.#", "#")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("T")
                ("HE CITY OF ENGINES")
                ("A city of moving metal, where the impossible is routine. The air swarms with flying machines, and below them the city turns on colossal, groaning cogs. Beyond the bustle and the madness, Tarwater Bay lurks, black and still as volcanic stone.")
                    if (oPlayer.Recordkeeper == "Harmony Ricketts")
                        ("Harmony wants to visit a chopshop.")
                    if (oPlayer.ChiefEngineer == "Gladys Skarter")
                        ("Help Gladys track down Dr. Bellweather.")
                    ("Bring a memory to the anthroparion.")
                    ("A bedraggled, white-coated man has washed up on the Tarwater shore.", "You stumble across him lying face-down in the rust-fleck sand.")
                if (ConcernsReturnNumberOfItems(125) == 1 && oPlayer.ChiefEngineer == "Dr Henry Delgado")
                    ("Dr Henry Delgado wants to visit the Hostage-King.", "The exile beneath Tarwater Bay.")
                if ((ConcernsReturnNumberOfItems(125) == 8 || (oInventories.LaplaceDead == 1 && global.ConcernsConcludedFlag[3] == 0)) && oPlayer.ChiefEngineer == "Dr Henry Delgado")
                    ("Return to the Hostage-King.", "Slip beneath the grime-black water. The exile is waiting beneath Tarwater Bay.")
                    NeedsMoney("Rest and recover.", "You've spent a long time in darkness. Your crew need a few days to blow off steam.", "[This will recover some of your Sanity, but will cost you 20 guineas.]", 20)
                    ("Gather news.", "The streets are a cacophony of competing voices - mechanical, telepathic, human. The problem isn't finding news, it's sorting the vaguely legitimate-sounding from the outright lies.", "")
                        ("Repair your hull.", "The church of Cobblestone will work for you for free.")
                        NeedsMoney("Repair your hull.", "You can have your engineers help out, but it'll still cost ya.", (("[This will cost you " + string(FixCost)) + " guineas.]"), FixCost)
                if (oPlayer.LastVisited != "The City of Engines" && global.CityofEngines == 0)
                    ("Wander the streets.", "This city is a self-perpetuating machine, endlessly turning, endlessly producing machinery. There is more to see here than you could manage in one lifetime.", "#")
                    ("A prospective passenger.", "A hunched figure waves you down at the station.")
                    ("Drop off your human passenger.", "", "[They will give you 100 G.]")
                    ("Drop off your ghoul passenger.", "", "[They will give you 100 G.]")
                ("Advertise for a new crewmember.", "The Seven Cities have no shortage of useful souls.#", "#")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 0)
            ("I")
            ("NTO THE DARK")
            ("Which direction will you go?")
            ("On second thoughts...", "There are matters here that still merit attention.", "#"0, 0.8)
            ("Pore over the map.", "Orient yourself before you launch off into the ravenous dark.")
                    BoxMode = "Map"
            ("North.", "To the north-west, the City of Bridges; to the north-east, the City of Keys. Two cities that cordially despise one another.")
                oPlayer.LastVisited = "The City of Engines"
                LeavingSpecialRoomDialogueBox("North")
            ("West.", "Nothing worthwhile lies west; just some mushroomfolk town.")
                oPlayer.LastVisited = "The City of Engines"
                LeavingSpecialRoomDialogueBox("West")
            ("East.", "To Waker's Respite, where the noddy-doctors do strange things to insomniacs. But they probably won't let you in.")
                oPlayer.LastVisited = "The City of Engines"
                LeavingSpecialRoomDialogueBox("East")
            NeedsMoney("South.", "The Tarwater blocks easy passage to the south door. You'll have to charter a flying-machine.", "[This will cost you 20 guineas.]"0, 0.8, 20)
                oPlayer.LastVisited = "The City of Engines"
                LeavingSpecialRoomDialogueBox("South")
        else if (DialogueScreen == "SecondScreen" && DropOffPassenger == 1)
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 1)
        else if (DialogueScreen == "SecondScreen" && HarmonyQuest == 1)
        else if (DialogueScreen == "SecondScreen" && WanderTheStreets == 1)
                ("T")
                ("ARWATER BAY")
                ("The Tarwater is seldom tranquil. Today you are fortunate enough to be nearby during one of its assaults.")
                ("You stand on the edge of a hovercog amongst a gawking crowd of humans and half-mechanicals, watching as - far below - a tide of hideous metal rises from the ink-black sea and crashes down upon the waiting soldiery.")
                ("This is a well-practised dance. The soldiers will drive the sentient machinery back into the polluted sea, or - less likely - the machines will overwhelm all before them and rampage through the streets, killing hundreds.")
                ("For hours, the air trembles. Shrapnel flies. Even up on the hovercog, you can hear the screams - screaming metal, screaming people. Explosions so bright they blind. When your eyes recover, you realize that the jagged machine-army is withdrawing, slipping once more beneath the oil-slick waves.")
                ("Gained x1 Breathtaking Spectacle", "Logbook", 3)
                ("Interview the surviving soldiers.", "You're interested in the brave men and women who fight these monsters on a near-weekly basis.", "")
                ("Survey the wreckage.", "Mechanical remnants litter the barbed-wire shore.", "")
                ("Aid the wounded.", "There are men lying on the shore who didn't quite die.", "")
                ("Hurry away.", "You've seen enough.", "")
                ("T")
                ("HE CITY OF ENGINES")
                ("This street encircles a cog, an upright cog that's half-underground. As you walk down it, the ground rumbles beneath your feet. The cog is moving, and it plunges you into darkness below.")
                ("In the few dark minutes before the street-lights turn on, you stumble onto an interlocking bridge that drops you onto another cog nearby. Abruptly, you have wandered into the hidden bowels of the City - the undercogs, spinning and grinding in subterranean twilight.")
                ("No-one lives down here. No-one that the above-ground Citizens consider important, anyway. Just the desperate and deranged.")
                ("A bearded old fellow is limping toward you, apparently dressed in nothing but a stained bedsheet. " + '"' + "Hey! Hey!" + '"' + " he shouts. " + '"' + "I want a word!" + '"')
                ("Listen to him.", "But first, wait for him to stop wheezing from the exertion of catching up to you.", "")
                ("Hurry back to the bridge.", "You're not in the mood to be subjected to rambling. And men in robes are a sure omen of incoming ramble.", "")
                ("T")
                ("HE CITY OF ENGINES")
                ("The largest and most well-known hovercog is Smogfeather, a behemoth that smothers whole streets of the city below in shadow. You're examining wares in one of the Smogfeather tourist-traps when a panicked shop assistant grabs your arm.")
                ('"' + "We're descending," + '"' + " says the assistant. " + '"' + "We need to evacuate." + '"')
                ("Outside, it's quickly apparent that the assistant's panic is unwarranted. Smogfeather is falling very slowly indeed, onto a specially-constructed landing pad. People on the streets outside are chatting to each other merrily, and forming orderly queues at the flying-machine docks.")
                ("A halfworked woman joins the queue behind you. One eye is a purple lens, one hand a fist of iron. " + '"' + "I doubt they'll get her in the air again," + '"' + " she mutters.")
                ("Ask her to elaborate.", "She looks startled - she had been talking mostly to herself.", "")
                ("Eyes forward.", "You wait patiently, and eventually climb into an ornithopter that ferries you to solid ground.", "")
                ("T")
                ("HE CITY OF ENGINES")
                ("On the intersection of Rustbitter Cog and Bismuth Turning, you stumble across a burned-out shell of a building with an anthroparion standing outside.")
                ("Anthroparions are like golems, at least superficially. They are built of gleaming steel rather than clay and stone and clockwork. More importantly, though, the strange technological permissiveness of the City of Engines has made them able to think for themselves. Where a golem blindly follows its programming, an anthroparion makes decisions.")
                ('"' + "Have you come here to attack me?" + '"' + " the anthroparion asks, noticing your stare. Its body is dented, and its glass eyes whir as they focus on you warily. " + '"' + "I should warn you. I am government property." + '"')
                ('"' + "I'm not here to attack you." + '"', "", "")
                ('"' + "What happened here?" + '"', "", "")
                ("Walk on hurriedly.", "Don't look it in the mechanical eyes.", "")
                ("T")
                ("ARWATER BAY")
                ("The Tarwater is seldom tranquil. Today you are fortunate enough to be nearby during one of its assaults.")
                ("You stand on the edge of a hovercog amongst a gawking crowd of humans and half-mechanicals, watching as - far below - a tide of hideous metal rises from the ink-black sea and crashes down upon the waiting soldiery.")
                ("This is a well-practised dance. The soldiers will drive the sentient machinery back into the polluted sea, or - less likely - the machines will overwhelm all before them and rampage through the streets, killing hundreds.")
                ("For hours, the air trembles. Shrapnel flies. Even up on the hovercog, you can hear the screams - screaming metal, screaming people. Explosions so bright they blind. When your eyes recover, you realize that the jagged machine-army is withdrawing, slipping once more beneath the oil-slick waves.")
                ("Gained x1 Breathtaking Spectacle", "Logbook", 3)
                ("Interview the surviving soldiers.", "You're interested in the brave men and women who fight these monsters on a near-weekly basis.", "")
                ("Survey the wreckage.", "Mechanical remnants litter the barbed-wire shore.", "")
                ("Aid the wounded.", "There are men lying on the shore who didn't quite die.", "")
                ("Hurry away.", "You've seen enough.", "")
        else if (DialogueScreen == "SecondScreen" && GatheringNews == 1)
            ("T")
            ("HE LATEST GOINGS-ON")
            News1 = "A hovercog and an ornithopter have collided over Blackmetal Cog. A new machine has invented another new machine. A halfworking chopshop has been closed down for cloning without a license."
            News2 = "Anthroparions have been covertly programming free will into their automaton servants. The mechanigators in Tarwater Bay are out of control. A new member of the Technical Assembly has been inducted."
            News3 = "A halfwork brothel has been shut down amid horrid revelations. Coppermouse Cog has stopped turning, leaving hundreds of houses underground. A trash-shambler invasion from the Bay was beaten back by rocketmen."
            News4 = "Technic squid teleport above Irontooth Cog. An anthroparion activist has been destroyed by members of the Soul Movement. A famous inventor has been injured in an explosion."
            News5 = "A new kind of mechanimal has been installed in the machine-zoo. A hovercog has vanished without trace. Several shops in Bilgewish Bazaar have attracted complaints over telepathic advertising."
            News6 = "Acidic rains are blamed on faulty weather-engines. More cases of spontaneous sentience amongst the automatons. Halfwork soldiers and rocketmen parade through the city to celebrate a recent victory over the monsters of the Bay."
            News7 = "The Technical Assembly has voted to grant more rights to anthroparions. An erasure beam has accidentally fired on Ruddermark Cog, and now no-one can remember the people who were lost."
            News8 = "After the seventeenth day of torrential rain, angry mobs have gathered outside the offices of the weather-engineers. Anthroparions have launched a new machine-only hovercog. Halfworking services are further deregulated, amidst controversy."
            News9 = "An anthroparion factory has been fire-bombed by the Soul Movement. Strange signals from beneath the water. Rustbitter Cog has been spinning too fast, flinging citizens in all directions."
            News10 = "New advances blur the line between anthroparion and halfwork. A new resurrection machine has been condemned as a 'scam' by outraged ghouls. The soldiers and rocketmen defending Tarwater Bay complain that it has been 'worryingly quiet.'"
            News11 = "Improvements to the city's cog systems will reduce congestion and confusion, claim the Assembly. The weather-engines have started making it snow frozen blood. A new type of bomb has been invented, and dropped into the Bay for 'testing purposes.'"
            News12 = "A newly-invented dust machine has been criticized for being 'pointless.' A meeting of the Technical Assembly dissolves into 'chaos' due to disagreements over anti-quantum aetheric bonding theory. Smogfeather Hovercog is grounded amid safety concerns."
            News13 = "Advances in aetherial echo-divergence reported by the Assembly. Lightning strikes a weather-engine, causing it to enter what has been described as an 'irony loop.' Trash-shamblers and adamantium crabs have been assaulting from the sea."
            ("Gained x1 Current Affairs: City of Engines", "Logbook", 4)
            ("Well, well.", "The city turns.", "")
        else if (DialogueScreen == "SecondScreen" && RecoveringSanity == 1)
            ("A")
            (" BRIEF RESPITE")
                ("You wake up in a crashed ornithopter with a splitting headache and no memory of the last few nights. What just happened?")
                ("Your old habits got the better of you again. But when you finally piece your crew back together, they seem in much better spirits. Obviously whatever happened was good fun.")
                ("Your Sanity recovers slightly.", "Sanity", 1)
                ("You spent 3 days partying at the City of Engines.", "Time", 1)
                ("Such delicious excess.", "You feel slightly sheepish, but your crew have smiles on their faces.#", "#")
                ("You trawl the bars, drinking to old times and lost friends and lessons learned.")
                ("When you finally collapse into bed, your sleep is peaceful and untroubled by nightmares.")
                ("Your Sanity recovers slightly.", "Sanity", 1)
                ("You spent 1 day at the City of Engines.", "Time", 1)
                ("You feel better already.", "One night of humanity and warmth makes a world of difference.", "#")
        else if (DialogueScreen == "SecondScreen" && GladysQuest == 1)
        else if (DialogueScreen == "SecondScreen" && RobotQuest == 1)
        else if (DialogueScreen == "SecondScreen" && SecondRobotQuest == 1)
        else if (DialogueScreen == "SecondScreen" && MiscellaneousEvent == 1)
        else if (DialogueScreen == "SecondScreen" && MiscOptions == 1)
            ("C")
            ("APTAIN'S QUARTERS")
            ("The machine greets you with a steady, soothing hum. In your quarters, you can safely decide what side activity to pursue. Deal with prisoners? Drink something? Operate on your own memories, perhaps?")
            ("Return to location.", "")
        else if (DialogueScreen == "SecondScreen" && PickUpPassenger == 1)
            PickingUpPassenger("City of Engines")
        else if (DialogueScreen == "SecondScreen" && FixHull == 1)
            ("G")
            ("OOD AS NEW")
            ("Your engineers help with the repairs, hopefully speeding the process along. It's still an agonizing wait.")
                ((("You spent " + string(TimeToRepair)) + " days having your kinetopede fixed up."), "Kinetopede", 1)
                ((("You spent " + string(TimeToRepair)) + " day having your kinetopede fixed up."), "Kinetopede", 1)
            ("At last.", "Your kinetopede is returned to you, pristine.", "")
        else if (DialogueScreen == "SecondScreen" && DelgadoQuest == 1)
        else if (DialogueScreen == "SecondScreen" && SecondDelgadoQuest == 1)
        else if (DialogueScreen == "SecondScreen" && ThirdDelgadoQuest == 1)
        else if (DialogueScreen == "SecondScreen" && AdvertiseForNewCrewmember == 1)
            ("A")
            ("N ADVERTISEMENT")
            ("Days or weeks or months in a scuttling tin can, surrounded by strangers of questionable morality, and a significant risk of death or worse - who wouldn't want to join your expedition?")
            ("...You hope the new prospects don't question why you're in constant need of new crew.")
            ("You can put up a poster by the kinetopede station, which is cheap but ineffective. Or you could rent out a brainwave emitter, which will broadcast your advertisement telepathically, but will be moderately expensive.")
            ("On second thoughts...", "You don't need to do this.")
            NeedsMoney("Put up a poster.", "All the station's walls are covered in scraps of paper, some many years old. No-one pays attention to these things.", "[Renting the wall-space will cost you 10 guineas and your self-respect.]", 10)
            NeedsMoney("Rent an emitter.", "The brainwave emitters are a controversial invention, especially when it comes to advertising.", "[This will cost you 50 guineas.]", 50)
            if ((global.CrewDeathFlag[0] == 0 && oPlayer.Pilot != "Tera Skae" && RelationshipsReturnNumberOfItems(48) > 4) || (global.CrewDeathFlag[1] == 0 && oPlayer.Pilot != "Augustus Ribbins" && RelationshipsReturnNumberOfItems(47) > 4) || (global.CrewDeathFlag[2] == 0 && oPlayer.Lightbearer != "Genevieve Caul" && RelationshipsReturnNumberOfItems(59) > 4) || (global.CrewDeathFlag[3] == 0 && oPlayer.ChiefEngineer != "Dr Henry Delgado" && RelationshipsReturnNumberOfItems(83) > 4) || (global.CrewDeathFlag[4] == 0 && oPlayer.Lookout != "Spire" && RelationshipsReturnNumberOfItems(56) > 4) || (global.CrewDeathFlag[5] == 0 && oPlayer.GuardCaptain != "Abbas Salem" && RelationshipsReturnNumberOfItems(64) > 4) || (global.CrewDeathFlag[6] == 0 && oPlayer.Pilot != "Bishop Landman" && RelationshipsReturnNumberOfItems(52) > 4) || (global.CrewDeathFlag[7] == 0 && oPlayer.Recordkeeper != "Bradley Baggs" && RelationshipsReturnNumberOfItems(41) > 4) || (global.CrewDeathFlag[8] == 0 && oPlayer.Lookout != "Finnegan Skip" && RelationshipsReturnNumberOfItems(44) > 4) || (global.CrewDeathFlag[9] == 0 && oPlayer.Pilot != "Banjo Smiggs" && RelationshipsReturnNumberOfItems(49) > 4) || (global.CrewDeathFlag[10] == 0 && oPlayer.Navigator != "Valeria Bell-Roberts" && RelationshipsReturnNumberOfItems(51) > 4) || (global.CrewDeathFlag[11] == 0 && oPlayer.Navigator != "Peter McNally" && RelationshipsReturnNumberOfItems(53) > 4) || (global.CrewDeathFlag[12] == 0 && oPlayer.Lookout != "Violante DiMar" && RelationshipsReturnNumberOfItems(57) > 4) || (global.CrewDeathFlag[13] == 0 && oPlayer.Lookout != "Nicholas Verdant" && RelationshipsReturnNumberOfItems(55) > 4) || (global.CrewDeathFlag[14] == 0 && oPlayer.Recordkeeper != "Penpusher" && RelationshipsReturnNumberOfItems(62) > 4) || (global.CrewDeathFlag[15] == 0 && oPlayer.Recordkeeper != "Harmony Ricketts" && RelationshipsReturnNumberOfItems(61) > 4) || (global.CrewDeathFlag[16] == 0 && oPlayer.Recordkeeper != "Jack of Quills" && RelationshipsReturnNumberOfItems(60) > 4) || (global.CrewDeathFlag[17] == 0 && oPlayer.GuardCaptain != "Ashen" && RelationshipsReturnNumberOfItems(63) > 4) || (global.CrewDeathFlag[18] == 0 && oPlayer.GuardCaptain != "Fiona McConnaghe" && RelationshipsReturnNumberOfItems(66) > 4) || (global.CrewDeathFlag[19] == 0 && oPlayer.GuardCaptain != "Ransack Morton" && RelationshipsReturnNumberOfItems(65) > 4) || (global.CrewDeathFlag[20] == 0 && oPlayer.Lightbearer != "Otto Von Honbach" && RelationshipsReturnNumberOfItems(58) > 4) || (global.CrewDeathFlag[21] == 0 && oPlayer.Surgeon != "Char Dvetistek" && RelationshipsReturnNumberOfItems(67) > 4) || (global.CrewDeathFlag[22] == 0 && oPlayer.Surgeon != "Dr Mobius Vanch" && RelationshipsReturnNumberOfItems(68) > 4) || (global.CrewDeathFlag[23] == 0 && oPlayer.Surgeon != "Jhang Ba Sho" && RelationshipsReturnNumberOfItems(69) > 4) || (global.CrewDeathFlag[24] == 0 && oPlayer.ChiefEngineer != "Viola Nox" && RelationshipsReturnNumberOfItems(45) > 4) || (global.CrewDeathFlag[25] == 0 && oPlayer.ChiefEngineer != "Gladys Skarter" && RelationshipsReturnNumberOfItems(72) > 4) || (global.CrewDeathFlag[26] == 0 && oPlayer.ChiefEngineer != "Lucetta Quetzl" && RelationshipsReturnNumberOfItems(84) > 4) || (global.CrewDeathFlag[27] == 0 && oPlayer.ChiefEngineer != "Judith Grimalkin" && RelationshipsReturnNumberOfItems(70) > 4) || (global.CrewDeathFlag[28] == 0 && oPlayer.GuardCaptain != "Tybalt Balsamic IV" && RelationshipsReturnNumberOfItems(42) > 4) || (global.CrewDeathFlag[29] == 0 && oPlayer.Lightbearer != "Panorama Volt" && RelationshipsReturnNumberOfItems(43) > 4) || (global.CrewDeathFlag[30] == 0 && oPlayer.Navigator != "Sandy Bracket" && RelationshipsReturnNumberOfItems(38) > 4) || (global.CrewDeathFlag[31] == 0 && oPlayer.Surgeon != "Rotherford" && RelationshipsReturnNumberOfItems(46) > 4) || (global.CrewDeathFlag[32] == 0 && oPlayer.Pilot != "Avery Goodwin" && RelationshipsReturnNumberOfItems(50) > 4) || (global.CrewDeathFlag[33] == 0 && oPlayer.Navigator != "Cromlech" && RelationshipsReturnNumberOfItems(54) > 4))
            NeedsRelationshipsItem("Contact an old friend.", "Recruit a crewmember with whom you've formed a bond.", "[Requires a crewmember with 5+ Relationship.]", HasOldFriend)
        else if (DialogueScreen == "ThirdScreen" && FallingHovercog == 1)
            ("T")
            ("HE CITY OF ENGINES")
            ("The halfwork woman shifts uncomfortably. " + '"' + "Well... You didn't hear it from me, but more and more things have just... stopped working recently. The weather-engines go wrong more often than they go right. The hovercogs are falling. Getting halfworked now is riskier than ever..." + '"')
            ('"' + "The laws that make our machinery work are getting weaker. That's what I think. Too many inconsistencies, too many arbitrary rules that we made up as we went along. Anyway. You didn't hear it from me." + '"')
            ("Gained x1 Unsettling Conjecture", "Logbook", 4)
            ("You climb into the waiting ornithopter.", "Its blades turn as normal, and it flies you down without incident.", "")
        else if (DialogueScreen == "ThirdScreen" && RamblingProphet == 1)
            ("T")
            ("HE CITY OF ENGINES")
            ("The old man's breath is hot and horrible. " + '"' + "You should stay down here with me. Down here we'll be safe when the Presence rises." + '"')
            ('"' + "Presence?" + '"', "", "")
            ("Hurry away.", "Back to the light.", "")
        else if (DialogueScreen == "ThirdScreen" && RamblingProphet2 == 1)
            ("T")
            ("HE CITY OF ENGINES")
            ('"' + "It lives beneath the Tarwater Bay." + '"' + " The old man lowers his voice. " + '"' + "Didn't you wonder what builds those things and sends them up to kill us? Mad, ancient old thing, it is." + '"')
            ("He waits for this to sink in. " + '"' + "Do you believe me? No-one up there believed me." + '"')
            ("Gained x1 Disquieting Incident", "Logbook", 3)
            ("Assure that you believe him.", "Rheumy eyes brighten.", "")
            ("You don't believe him.", "He looks wounded as you hurry away.", "")
        else if (DialogueScreen == "ThirdScreen" && RamblingProphet3 == 1)
            ("T")
            ("HE CITY OF ENGINES")
            ('"' + "I'm so glad." + '"' + " The old man presses something small and cold into your hand, and limps away.")
            ("Gained x1 Gallows Candle", "Candle", 1)
            ("Oh. A human finger.", "Wonderful.", "")
        else if (DialogueScreen == "ThirdScreen" && InterviewSoldiers == 1)
            ("T")
            ("ARWATER BAY")
            ("The survivors are sombre. This attack was a bad one, with plenty of good soldiers lost, and it's difficult to celebrate victory in a war without end.")
            ("You talk to a depressed rocketman - a member of the army's aerial wing, soldiers with rockets fused to their feet. They're lightning-fast troops, but unfortunately prone to explode in mid-air.")
            ("In a monotone, he tells you of favoured tactics - false bombardments, pincer movements, feigned retreats. After ten minutes of jargon, he breaks down and tells you about a friend, a promising recruit torn apart by iron teeth. He doesn't quite weep.")
            ("Write notes on the tactics.", "", "[Gain x1 War Story.]")
            ("Write notes on the tragedy.", "", "[Gain x1 Moment of Melancholy.]")
        else if (DialogueScreen == "ThirdScreen" && SurveyWreckage == 1)
            ("T")
            ("ARWATER BAY")
            ("The shore is littered with iron corpses.")
            ("Beached metal monstrosities, already being hauled away for scrap. You spot a wrecked mechanigator, a rust-pitted thing with teeth as tall as you are. And an adamantium crab flipped over, its messy clockwork belly ripped to shreds. A technic squid lies tangled - it had been a thing of deadly grace, flying and teleporting around the battlefield, but the soldiers are used to fighting its ilk. They brought it down with nets and missiles.")
            ("There are human corpses too. More of those than machines. Soldiers with stretchers walk amongst the carnage, searching for survivors.")
            ("Gained x1 Reflection on Mortality", "Logbook", 3)
            ("Turn away.", "The last thing you see is medics trying to place a screaming soldier on their stretcher. He comes apart in their hands.", "")
        else if (DialogueScreen == "ThirdScreen" && AidWounded == 1)
            ("T")
            ("ARWATER BAY")
            ("There can never be enough volunteers. You move through the corpse-littered wasteland holding one end of a stretcher. Screams guide you.")
            ("You go back and forth until your hands are blistered from clutching the stretcher. Your efforts don't escape notice.")
            ("Gained x1 Moment of Melancholy", "Logbook", 3)
            ("+1 Reputation: City of Engines", "Reputation", 5)
            ("So... exhausted...", "", "")
        else if (DialogueScreen == "ThirdScreen" && NewspaperAdvert == 1)
            ("T")
            ("HE PROSPECTS")
            ("You rent an emitter for several days. Passers-by start thinking about joining your crew, although most of them will realize they're near an emitter after several seconds.")
            ("You wait for 1 day. Who will respond?", "Time", 0)
                ("On second thoughts...", "None of these candidates are suitable.")
                    if (ReturnNumberOfLowerCrewRoles("Swabbie") != 4)
                        ("A Swabbie", "Lives down in the lower decks. Cleans, cooks and carries.")
                    if (ReturnNumberOfLowerCrewRoles("Gunner") != 4)
                        ("A Gunner", "Lives down in the lower decks. Loads, aims and fires the artillery.")
                    if (ReturnNumberOfLowerCrewRoles("Guard") != 4)
                        ("A Guard", "Lives down in the lower decks. Provides protection. Looms menacingly.")
                    if (ReturnNumberOfLowerCrewRoles("Junior Engineer") != 4)
                        ("A Junior Engineer", "Lives down in the lower decks. Apprentice to the Chief Engineer.")
                    if (ReturnNumberOfLowerCrewRoles("Swabbie") != 4)
                        ("A Swabbie", "Lives down in the lower decks. Cleans, cooks and carries.")
                    if (ReturnNumberOfLowerCrewRoles("Gunner") != 4)
                        ("A Gunner", "Lives down in the lower decks. Loads, aims and fires the artillery.")
                    if (ReturnNumberOfLowerCrewRoles("Guard") != 4)
                        ("A Guard", "Lives down in the lower decks. Provides protection. Looms menacingly.")
                    if (ReturnNumberOfLowerCrewRoles("Junior Engineer") != 4)
                        ("A Junior Engineer", "Lives down in the lower decks. Apprentice to the Chief Engineer.")
        else if (DialogueScreen == "ThirdScreen" && PutUpAPoster == 1)
            ("T")
            ("HE PROSPECTS")
            ("You put up a poster on a wall in the North Station. It's already plastered with scraps of paper, some of them torn and yellow with age. You try to find a prominent spot.")
            ("You wait for 1 day. Who will respond?", "Time", 0)
                ("On second thoughts...", "None of these candidates are suitable.")
                    if (ReturnNumberOfLowerCrewRoles("Swabbie") != 4)
                        ("A Swabbie", "Lives down in the lower decks. Cleans, cooks and carries.")
                    if (ReturnNumberOfLowerCrewRoles("Gunner") != 4)
                        ("A Gunner", "Lives down in the lower decks. Loads, aims and fires the artillery.")
                    if (ReturnNumberOfLowerCrewRoles("Guard") != 4)
                        ("A Guard", "Lives down in the lower decks. Provides protection. Looms menacingly.")
                    if (ReturnNumberOfLowerCrewRoles("Junior Engineer") != 4)
                        ("A Junior Engineer", "Lives down in the lower decks. Apprentice to the Chief Engineer.")
                ("No response.", "When you return to the wall, you find that someone has torn away your one and replaced it with another.", "[You weren't lucky this time.]")
        else if (DialogueScreen == "ThirdScreen" && ContactOldFriend == 1)
            OldFriendEvent("T", "HE CITY OF ENGINES")
        else if (DialogueScreen == "LastScreen")
            ("T")
            ("EST")
            ("Successful test.")
            ("Return.", "", "")
    draw_text(((view_wport[(0 << 0)] * 0.5) - 3), ((view_hport[(0 << 0)] * 0.75) - 3), "The City of Engines")
    draw_text((view_wport[(0 << 0)] * 0.5), (view_hport[(0 << 0)] * 0.75), "The City of Engines")
