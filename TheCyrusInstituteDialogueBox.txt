if (BoxMode == "Event")
            oPlayer.LastVisitedForSavePurposes = "The Cyrus Institute"
            FileSelected = "SaveFile0.homd"
        else if (DialogueScreen == "FirstScreen")
                ("T")
                ("HE CYRUS INSTITUTE")
                ("The first thing you notice is the night sky above - a blanket of stars and a bright, bulbous moon. Where has the ceiling gone?")
                ("The second thing you notice is a group of young men and women hurrying to greet you. Some are flying nonchalantly above the ground, some have lightning or fire trailing from their hands. " + '"' + "You unlocked the Door!" + '"' + " exclaims one of the hovering girls. " + '"' + "Thank God! You have no idea how long we've been trapped here! What lies beyond? Can we go back to Earth now?" + '"')
                    (("New location visited. " + ApprehensionsString), "Logbook", 4)
                        FileSelected = "SaveFile0.homd"
                    ("Look up at the sky.", "You're still bewildered by the lack of ceiling.", "")
                    ("Try to explain the House.", "Well, this is complicated. It's a parasite dimension of klepto-architecture, and it steals things and people from other worlds. Hmm. You might be going too fast.", "")
                if (oPlayer.LastVisited != "The Cyrus Institute" && global.Cyrus2 == 0)
                    ("Speak with the students.", "What can they tell you about this strange Institute, and the world they were taken from?", "")
                if (oPlayer.LastVisited != "The Cyrus Institute" && FightClicked == 0)
                    ("One of the students has a question.", "The others are smiling and cheerful, but she seems different. Subdued.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("T")
                ("HE CYRUS INSTITUTE")
                ("A boarding-school plucked from its own world and dropped, unceremoniously, into the House. The students here are strangely gifted.")
                    ("Look up at the sky.", "You're still bewildered by the lack of ceiling.", "")
                    ("Try to explain the House.", "Well, this is complicated. It's a parasite dimension of klepto-architecture, and it steals things and people from other worlds. Hmm. You might be going too fast.", "")
                if (oPlayer.LastVisited != "The Cyrus Institute" && global.Cyrus2 == 0)
                    ("Speak with the students.", "What can they tell you about this strange Institute, and the world they were taken from?", "")
                if (oPlayer.LastVisited != "The Cyrus Institute" && FightClicked == 0)
                    ("One of the students has a question.", "The others are smiling and cheerful, but she seems different. Subdued.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("T")
                ("HE CYRUS INSTITUTE")
                ("A boarding-school plucked from its own world and dropped, unceremoniously, into the House. The students here are strangely gifted.")
                    ("Monsters and manifestations gather at its borders, always probing. It seems to attract them like nothing else you've seen.")
                    ("A proud new Heartlight shines like a beacon atop the Institute, thumping and blazing away. The once-ascendant darkness now clings to the corners, shrivelled and beaten.")
                    ("Look up at the sky.", "It's an illusion, of course, to fend off the students' claustrophobia. But it's still extraordinary.", "")
                if (oPlayer.LastVisited != "The Cyrus Institute" && global.Cyrus2 == 0)
                    ("Speak with the students.", "What can they tell you about this strange Institute, and the world they were taken from?", "")
                if (oPlayer.LastVisited != "The Cyrus Institute" && global.Cyrus3 == 0 && oInventories.InstituteHeartlight == 0)
                    ("Help them beat back the gathering manifestations.", "The students here seem a magnet for darkness. They can always use your help.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 0)
            ("I")
            ("NTO THE DARK")
            ("You can only go east. The Doors are locked on all other sides.")
            ("On second thoughts...", "There are matters here that still merit attention.", "#"0, 0.8)
            ("Pore over the map.", "Orient yourself before you launch off into the ravenous dark.")
                    BoxMode = "Map"
            ("East", "Back to the House.")
                oPlayer.LastVisited = "The Cyrus Institute"
                LeavingSpecialRoomDialogueBox("East")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 1)
        else if (DialogueScreen == "SecondScreen" && LookSky == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("They notice you staring up at the night sky. " + '"' + "It's an illusion," + '"' + " explains a red-haired young man who introduces himself as Jonas. " + '"' + "We got sick of that ceiling bearing down on us. Nice bit of work, ain't it?" + '"')
            ("He's right. It's beautiful.")
            ("Gained x1 Breathtaking Spectacle", "Logbook", 3)
            ('"' + "Come on," + '"' + " says Jonas. " + '"' + "We have a lot to discuss.", "", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("A student with cropped-short hair checks her watch, glancing uneasily at the furthest corners of the Room. She pulls you aside. " + '"' + "I was wondering if I could ask you about the darkness in the House," + '"' + " she says quietly. " + '"' + "It's been attacking us with pale ghosts and abominations almost every day. Is this... normal?" + '"')
            ('"' + "Unfortunately, it is to be expected." + '"', "The Institute hasn't even set up any Heartlights to keep the darkness at bay. Of course it will gnaw at them.", "")
            ('"' + "It sounds more persistent than usual." + '"', "You'd expect it to corrode things gradually, maybe only spawn a manifestation every week or so.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness2 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ('"' + "As I thought," + '"' + " she says. Behind her, the other students are still chatting merrily. " + '"' + "Could you stay and help us fight off the next wave? We've already lost a dozen friends to this siege. We could use all the help we can get." + '"')
            ("Agree to stay and help fight.", "She sighs with relief.", "")
            ("Make excuses.", "You really should get going before then...", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness3 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The students drop their merry demeanour as darkness gathers at the Institute's defences. They've built a wall of barbed wire and nailed planks and crackling energy - but even as you watch, a boiling black tide starts to seep through.")
            ('"' + "Ready?" + '"' + " calls red-haired Jonas grimly. The assembled students nod. Amongst the ramshackle army you spot blazing white eyes, gleaming claws, lightning and fire and smoke. A student soars overhead with a handful of dynamite. Someone shapeshifts into a lioness and roars.")
            ("It's all very impressive. But this isn't how you beat back the darkness of the House.")
            ("Fight alongside the students.", "Darkness crashes through the barricades. A desperate battle ensues.", "Grit", 56)
            if (oPlayer.Lightbearer != "Dead")
                ((("Send " + oPausableGame.LightbearerFirstName) + " to power up the Heartlight."), "You'll show them how to deal with this.", "")
            ("Make yourself scarce until this blows over.", "You have no desire to risk your life for a bunch of naive visitants.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness4 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("A complex expression passes over her face, for just a moment. She replaces it with a rigid smile. " + '"' + "Fair enough," + '"' + " she says, turning away.")
            ("Rejoin the other students.", "The cropped-haired woman has already retreated to the sleek corridors and sparkling laboratories of the Institute.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness5 == 1 && WasChallengeSuccessful == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The battle is an exhausting slog against an invincible foe. After, you remember it only in a series of fragmented images: a pale tentacle being sliced in half with a beam of blazing red light; a student swamped in clawing blackness, bleeding from a dozen gouge-marks, hurling some explosive device that sends scraps of darkness fluttering to all corners; a woman transformed into a giant, towering over the turmoil, knocking back manifestations with sledgehammer blows.")
            ("In the end, the students prevail, thanks partly to your help - just as they are falling back, defeated, you rally them for a final doomed charge. Somehow, this makes the difference. The darkness recoils.")
            ("A few serious internal injuries, a few broken bones, plenty of scratches and bruises - but no fatalities among the students. Apparently this counts as a victory, though the darkness will return in full force within days.")
            ("You spent 1 day fighting darkness!", "Time", 5)
            ("(You passed a Grit challenge!)", "Challenge", 5)
            ("Gained x1 War Story", "Logbook", 3)
            ("The students insist on celebrating with you.", "It seems they think you're their saviour, though really you've just delayed the inevitable.", "")
            ("Slink away.", "You're not in the mood for a party. This could have been much worse.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness5 == 1 && WasChallengeSuccessful == 0)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The battle is an exhausting slog against an invincible foe. After, you remember it only in a series of fragmented images: a pale tentacle snatching a flying boy from the air; a student swamped in clawing blackness, bleeding from a dozen gouge-marks, setting off a bomb that blows both him and the darkness to smithereens; a woman transformed into a giant, striding over the turmoil, then falling with a bellow as a tide of monsters rip her apart.")
            ("In the end, you prevail. Barely. Beaten back by flashes of light and roaring explosions, the darkness recoils.")
            ("Some students were killed in the battle, and the atmosphere among the rest is solemn. They know that while they're getting weaker and weaker, the darkness will return in full force within days. ")
            ("You spent 1 day fighting darkness!", "Time", 5)
            ("(You failed a Grit challenge...)", "Challenge", 5)
            ("Gained x1 Moment of Melancholy", "Logbook", 3)
            ("Gained x1 War Story", "Logbook", 3)
            ("Return to the kinetopede.", "The students are holding an impromptu memorial for those lost. They're not in the mood for chat with a stranger.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness6 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("While you rush back to the kinetopede, the battle rages. After, you remember it only in a series of fragmented images: a pale tentacle being sliced in half with a beam of blazing red light; a student swamped in clawing blackness, bleeding from a dozen gouge-marks; a woman transformed into a giant, striding over the turmoil, knocking back manifestations with sledgehammer blows.")
            if (oPlayer.Lightbearer == "Panorama Volt")
                ("You urge Panorama to blaze the Heartlight as bright as she can, but she just whistles at you through broken teeth and grins. " + '"' + "No point saving them as are already dead," + '"' + " she tells you. " + '"' + "Young visitants like these don't last long in the House, dear. Best let them die quick rather than slow." + '"')
                ("She resists all your pleading, and you don't have time to waste working out the Heartlight yourself. By the time you return, the battle is over. Some students were killed, and the atmosphere among the rest is solemn. They know that while they're getting weaker and weaker, the darkness will return in full force within days. ")
                ("Gained x1 Moment of Melancholy", "Logbook", 3)
                ("Return to the kinetopede, cursing Panorama's unreliability.", "The students are holding an impromptu memorial for those lost. They're not in the mood for chat with a stranger.", "")
                ((oPausableGame.LightbearerFirstName + " reacts instantly when you explain the situation, blazing the Heartlight as bright as it will shine. Quick - it can only blaze so fiercely for so long. You charge the kinetopede back into the fray, a scuttling comet that smashes into the tide of darkness and blows it to a million fluttering scraps."))
                ("The students gather around your kinetopede, cheering and whooping. A few serious internal injuries, a few broken bones, plenty of scratches and bruises - but no fatalities among the students. Apparently this counts as a victory, though the darkness will return in full force within days.")
                ("Gained x1 War Story", "Logbook", 3)
                ("The students insist on celebrating with you.", "It seems they think you're their saviour, though really you've just delayed the inevitable.", "")
                ("Teach them to make a Heartlight of their own.", "It's the only way they're going to survive.", "Esoterica", 84)
                ("Slink away.", "You're not in the mood for a party. This could have been much worse.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness7 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("You watch the battle from the Institute's belltower. After, you remember it only in a series of fragmented images: a pale tentacle snatching a flying boy from the air; a student swamped in clawing blackness, bleeding from a dozen gouge-marks, setting off a bomb that blows both him and the darkness to smithereens; a woman transformed into a giant, striding over the turmoil, then falling with a bellow as a tide of monsters rip her apart.")
            ("In the end, the students prevail. Barely. Beaten back by flashes of light and roaring explosions, the darkness recoils.")
            ("Some students were killed in the battle, and the atmosphere among the rest is solemn. They know that while they're getting weaker and weaker, the darkness will return in full force within days. ")
            ("You spent 1 day watching a battle with darkness!", "Time", 5)
            ("Gained x1 Moment of Melancholy", "Logbook", 3)
            ("Return to the kinetopede.", "The students are holding an impromptu memorial for those lost. They're not in the mood for chat with the stranger who hid while they fought.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness8 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The students host a wild party in the Institute, showering you in dreadful beer, playing bizarre table-top games, and offering you strange fried-potato snacks. A companionable evening, snatched from the jaws of the darkness that gathers outside.")
            ("Gained x1 Droll Recollection", "Logbook", 3)
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Lightbearer != "Panorama Volt")
                ("Teach them to make a Heartlight of their own.", "It's the only way they're going to survive.", "Esoterica", 84)
            ("Return to the kinetopede.", "You hope they can cope without you.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness9 == 1 && WasChallengeSuccessful == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The students seem to have their own division of mad scientists, led by the red-haired Jonas. They show you to a laboratory filled with bubbling chemicals and roiling things in vats.")
            ("It takes them a long time to grasp the concept of a Heartlight - matters of the occult, after all, are very different from even the maddest kind of science. But you draw them intricate diagrams, take them through the process step-by-step. Finally, Jonas nods.")
            (((('"' + "Getting a real human heart might be tricky," + '"' + " he says. " + '"' + "Maybe with stem cells...? But that is the only hurdle. I think I understand what I need to do. Thank you, " + oPlayer.PlayerName) + " - I hope this works.") + '"'))
            ("(You passed an Esoterica challenge!)", "Challenge", 1)
            ("Return to the kinetopede.", "If Jonas is as good as his word, the students will finally be safe.", "")
        else if (DialogueScreen == "SecondScreen" && FightingDarkness9 == 1 && WasChallengeSuccessful == 0)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The students seem to have their own division of mad scientists, led by the red-haired Jonas. They show you to a laboratory filled with bubbling chemicals and roiling things in vats.")
            ("For hours on end, you try to explain the concept of a Heartlight - but matters of the occult are very different from even the maddest kind of science. Jonas does his best, but all his experiments end in malformed failures.")
            ("(You failed an Esoterica challenge...)", "Challenge", 1)
            ("Return to the kinetopede.", "You did your best, but making a Heartlight is complex even for accomplished occultists.", "")
        else if (DialogueScreen == "SecondScreen" && LookSky2 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("Jonas points out all the constellations from his old world, explaining some of the myths and legends that surround them. A plough, a centaur, a hunter with a bright-starred belt...")
            ("Gained x1 Glimpse of Another World", "Logbook", 3)
            ("Jonas is evidently proud of his work.", "", "")
        else if (DialogueScreen == "SecondScreen" && ExplainHouse == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The students all listen in rapt silence while you do your best to explain the ravenous House, and the toll it takes on other worlds. When you are finished, they glance at each other in shock.")
            ('"' + "This is worse than we thought," + '"' + " mutters a girl with green-and-blonde hair.")
            ('"' + "We've been working on getting out of this dimension for months," + '"' + " says Jonas slowly. " + '"' + "Are you telling me that escaping the House is impossible?" + '"')
            ("Offer them hope.", "You're sure escape is possible! Somehow.", "")
            ("Tell the truth.", "No-one has ever escaped. You seek it yourself, but it's probably impossible.", "")
        else if (DialogueScreen == "SecondScreen" && ExplainHouse2 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("A collective sigh of relief. " + '"' + "We'll be back in Seattle in no time!" + '"' + " someone declares. You smile back, as convincingly as you can.")
            ("Their fears mollified, the students take you back to their academy and ply you with food, alcohol, and amusing stories. You're the first new face they've seen in months, and everyone wants to spend a moment chatting and laughing with you.")
            ("Gained x1 Droll Recollection", "Logbook", 3)
            ("A grand old time.", "You've just delivered them the best news they've heard in almost a year. Of course they're happy. For now.", "")
        else if (DialogueScreen == "SecondScreen" && ExplainHouse3 == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("A shocked pause follows your words. Someone at the back of the crowd starts sobbing. You offer all the reassurances you can muster, but the students are already drifting away, wrapped up in private despair.")
            ("You ask about their old world, but the students are in no mood to talk. They retreat back to their Institute, weeping or quietly discussing their future.")
            ("Gained x1 Moment of Melancholy", "Logbook", 3)
            ("An atmosphere of mourning.", "Whatever their old world was, it must have been great for them to miss it so.", "")
        else if (DialogueScreen == "SecondScreen" && WanderTheStreets == 1)
            ("T")
            ("HE CYRUS INSTITUTE")
            ("The students take you back to their academy and tell you as much as they can about where they came from. They call themselves 'metahumans,' people with extraordinary powers, and explain how their presence was hidden in their old world until about fifty years ago. They mention a lot of vague and complex terms, like the 'Clone Incident' and a 'space colony,' and for some reason they expect you to understand what a 'cell phone' is.")
            ("Gained x1 Glimpse of Another World", "Logbook", 3)
            ("Just smile and nod.", "They'll stop talking eventually.", "")
        else if (DialogueScreen == "SecondScreen" && PickUpPassenger == 1)
            PickingUpPassenger("Fractal Fortress")
        else if (DialogueScreen == "SecondScreen" && MiscellaneousEvent == 1)
        else if (DialogueScreen == "SecondScreen" && MiscOptions == 1)
            ("C")
            ("APTAIN'S QUARTERS")
            ("The machine greets you with a steady, soothing hum. In your quarters, you can safely decide what side activity to pursue. Deal with prisoners? Drink something? Operate on your own memories, perhaps?")
            ("Return to location.", "")
        else if (DialogueScreen == "LastScreen")
            ("T")
            ("EST")
            ("Successful test.")
            ("Return.", "", "")
    draw_text(((view_wport[(0 << 0)] * 0.5) - 3), ((view_hport[(0 << 0)] * 0.75) - 3), "The Cyrus Institute")
    draw_text((view_wport[(0 << 0)] * 0.5), (view_hport[(0 << 0)] * 0.75), "The Cyrus Institute")
