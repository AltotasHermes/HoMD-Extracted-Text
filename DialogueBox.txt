if (BoxMode == "Event")
    if (NearestKinetopede.TypeOfEnemy == "Unsavoury")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("S")
            ("OME UNSAVOURY TYPES")
            ("They aren't bandits, the captain explains through the crackle of the radio. They just patrol the area protecting fellow travellers. Her crew readies their artillery. It's only fair, she explains, that you pay them a tax for passing through such a safe and bandit-free room.")
            ("If you refuse - and here she sighs - they'll assume you're a bandit and act accordingly. Best to hand over the money.")
            ("Pay the bandit tax.", "Just 200 guineas and they'll leave you in peace.", "[-200 guineas]", sMoneyArt, 0, 0.8)
            ("Refuse to pay.", "You get the feeling this won't go down well.", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "Better part of valour and all that.", "Guile", 28)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Your artillery tears the enemy kinetopede to ribbons. Plumes of ash and smoke stretch to the ceiling. Time to see if there's anything left to salvage.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The enemy kinetopede is battered but intact, its crew dead. You can search for loot at your leisure.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("S")
            ("OME UNSAVOURY TYPES")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the other kinetopede follows, keeping you fixed in the radius of its own Heartlight."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the other kinetopede follows, keeping you fixed in the radius of its own Heartlight.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more. " + '"' + "You tried to run away!" + '"' + " says the captain, aggrieved. " + '"' + "A sure sign of guilt!" + '"')
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Your Sanity decreases slightly.", "Sanity", 0)
            ("Pay the bandit tax.", "Just 200 guineas, they say, and they'll leave you in peace.", "[-200 guineas]", sMoneyArt, 0, 0.8)
            ("Refuse to pay.", "You get the feeling this won't go down well.", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "IllMannered")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("S")
            ("OME ILL-MANNERED BRUTES")
            ("The bandit kinetopede is draped in trophies and badly-fitting armour-plates, doubtless looted from other victims.")
            ("They demand money and they're not polite about it. The captain makes inappropriate intimations regarding your genealogy.")
            ("Give them what they want.", "You are not in the position to risk a fight.", "[You will lose 250 guineas]", sMoneyArt, 0, 0.8)
            ("Hide most of your money, and give them a pittance.", "20 guineas is all you have, and you're so upset to lose it. Devastated.", sMoneyArt, 0, 0.8, "Guile", 15)
            ("Refuse to pay.", "You get the feeling this won't go down well.", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "Better part of valour and all that.", "Guile", 25)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && HideMoney == 1)
            ("S")
            ("OME ILL-MANNERED BRUTES")
            ("After berating you for your poverty, they depart to find someone worth robbing.")
            ("(You have passed a Guile challenge!)", "Challenge", 4)
            ("Good riddance.", "")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && HideMoney == 1)
            ("S")
            ("OME ILL-MANNERED BRUTES")
            ("You thought the captain had been rude before, but now you're learning words you never knew existed.")
            ("His crew is already readying weapons. " + '"' + "Hand over everything. Everything!" + '"')
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Give them what they want.", "You've made them angry, and their demands have grown.", "[You will lose 300 guineas]", sMoneyArt, 0, 0.8)
            ("Refuse to pay.", "You get the feeling this won't go down well.", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "Better part of valour and all that.", "Guile", 25)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Your artillery tears the enemy kinetopede to ribbons. Plumes of ash and smoke stretch to the ceiling. Time to see if there's anything left to salvage.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The enemy kinetopede is battered but intact, its crew dead. You can search for loot at your leisure.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("S")
            ("OME ILL-MANNERED BRUTES")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the other kinetopede follows, keeping you fixed in the radius of its own Heartlight."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the other kinetopede follows, keeping you fixed in the radius of its own Heartlight.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more. The bandit captain is apoplectic with rage.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Your Sanity decreases slightly.", "Sanity", 0)
            ("Give them what they want.", "You are not in the position to risk a fight.", "[You will lose 250 guineas]", sMoneyArt, 0, 0.8)
            ("Refuse to pay.", "You get the feeling this won't go down well.", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "Distressed")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("D")
            ("ISTRESSED MERCHANTS")
            ("A kinetopede train, much like your own, lurches up alongside you. A desperate-looking man climbs from the hatch and waves.")
            ("He's a merchant, and his train was hit by bandits; they took all his goods and all his money, but more importantly, they took most of his fuel.")
            ('"' + "We're down to just a few handfuls of coal," + '"' + " he explains. " + '"' + "Not enough to get home, even if we turned off our Heartlight. Please... help us." + '"')
            ("Give him a small amount of your Fuel.", "This won't be enough, but it's all you can spare.", "[You will lose 1 Fuel.]", sMoneyArt, 0, 0.8)
            ("Give him enough Fuel to get home.", "His face is the picture of relief.", "[You will lose 5 Fuel.]", sMoneyArt, 0, 0.8)
            ("Refuse.", "You just don't have Fuel to spare.")
            ("Attack.", "They're not having a very good day.", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && GiveOneFuel == 1)
            ("D")
            ("ISTRESSED MERCHANTS")
            ("The captain looks disappointed, but not ungrateful. " + '"' + "I understand. This should get us closer to home, at least. Maybe we'll meet someone else on the way." + '"')
            ("Neither of you say anything. You both know how unlikely that is.")
            ("He doesn't wait to finish his meal. His crew are waiting, and every second his Heartlight is on is another drop of fuel wasted.")
            ("You lost 1 Fuel.", "Kinetopede", 1)
            ("You wish him good luck.", "")
        else if (DialogueScreen == "SecondScreen" && GiveFiveFuel == 1)
            ("D")
            ("ISTRESSED MERCHANTS")
            ("He sags in relief. " + '"' + "Thank you," + '"' + " he says, and he won't stop saying it. He almost weeps it. He tells you he wishes there was something he could give you; something the bandits hadn't stolen. But there isn't. Sometimes a good deed goes unrewarded.")
            ("After he returns to his own kinetopede, you hear a ragged cheer from his crew.")
            ("You lost 5 Fuel.", "Kinetopede", 0)
            ("You wonder how many lives you saved.", "", "", sMoneyArt, 0, 0.8)
        else if (DialogueScreen == "SecondScreen" && RefuseFuel == 1)
            ("D")
            ("ISTRESSED MERCHANTS")
            ("The man pales. He pushes his plate away.")
            ('"' + "I see," + '"' + " he says finally. " + '"' + "I see." + '"')
            ("He leaves without another word, ignoring you as you wish him the best of luck.")
            ("As you start to pull away, the other kinetopede's engines start up. It follows alongside you for a few dozen yards, and then it levels its artillery and opens fire.")
            ("It seems the merchants have enough fuel left for one final, desperate grasp for survival.")
            ("Fight back.", "", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "You won't need to outpace them for long.", "Guile", 25)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Your artillery tears the enemy kinetopede to ribbons. Plumes of ash and smoke stretch to the ceiling. Time to see if there's anything left to salvage.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The enemy kinetopede is battered but intact, its crew dead. You can search for loot at your leisure.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("D")
            ("ISTRESSED MERCHANTS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the other kinetopede follows, keeping you fixed in the radius of its own Heartlight."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the other kinetopede follows, keeping you fixed in the radius of its own Heartlight.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Your Sanity decreases slightly.", "Sanity", 0)
            ("Fight back.", "", "[Initiates combat]")
                StartCombat("Kinetopede", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
