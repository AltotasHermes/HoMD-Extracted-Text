if (BoxMode == "Event")
    if (NearestKinetopede.TypeOfEnemy == "ColeopteranCorsairs")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("C")
            ("OLEOPTERAN CORSAIRS ")
            ("A scarred, moustachioed thug swings about the horns of a giant approaching beetle. Cannons poke through the carved-out holes in its shell. Cutlasses are raised; a wordless battle-cry.")
            NeedsMoney("Pay them to go away.", "They don't have radios, of course, so you're forced to broadcast on the tannoy. The beetle skids to a halt.", "[You will lose 200 G.]", sMoneyArt, 0, 0.8, 200)
            ("Defend yourself.", "Cannons at the ready!", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the pirates are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("C")
            ("OLEOPTERAN CORSAIRS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the gargantuan beetle follows, keeping you fixed in the radius of its own Heartlight."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the gargantuan beetle follows, keeping you fixed in the radius of its own Heartlight.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "SingingWitches")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("S")
            ("INGING WITCHES")
            ("Something like birdsong, something like opera, something like an ecstatic scream. The witches are singing a song that deadens the senses and fills you with a cloying, dreadful hopelessness.")
            ("Their beetle clanks toward you, weighed down by hooks and spikes and fume-wafting censers. Its shell is painted with runes. They want you for a sacrifice.")
            ("Talk to them.", "They don't have to do this.", sMoneyArt, 0, 0.8, "Spirit", 45)
            ("Defend yourself.", "You hear that witches like to drag their victims to dark corners, drown them in wells. You won't let them take you alive.", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1 && WasChallengeSuccessful == 1)
            ("S")
            ("INGING WITCHES")
            ("The witches have no radio, so you broadcast on the loudspeaker. You tell them that you know they are persecuted - that the Entomarch will burn any occultists they can, and it's a grave injustice to innocent practitioners like themselves.")
            ("The song ceases. The witches are used to fighting for survival and aren't sure how to react to your kindness. Finally, one of the elders starts a new song - a bitter lament, yes, of fallen friends and fading hopes, but also a paean to fires in darkness, to new friends found.")
            ("Gained x1 Moment of Melancholy", "Logbook", 3)
            ("Gained some Sanity", "Sanity", 1)
            ("(You passed a Spirit challenge!)", "Challenge", 7)
            ("Their beetle turns and stumps away, great shell swaying.", "")
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1 && WasChallengeSuccessful == 0)
            ("S")
            ("INGING WITCHES")
            ("You broadcast your voice over the loudspeaker, but the witches just sing louder. They have been tricked before.")
            ("(You failed a Spirit challenge...)", "Challenge", 7)
            ("Defend yourself.", "You don't want to end up down a well.", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the witches are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
            ("S")
            ("INGING WITCHES")
            ("You search the twitching beetle. Surely something of value has survived?")
                ("Searching amongst the wreckage, you find nothing but corpses and broken chitin.")
                ("Just a gangle of yellowing human bones.")
                ("Just scraps of animal bone and leather.")
                ("Success! You pull from the debris a strip of flesh and tallow.")
                ("Success! You pull from the debris a wizened human head, carved with runes and decked in feathers. Could it be an item of occult power? Or just a grisly trophy?")
                ("Success! You discover in the beetle-debris a stoppered jar filled with powdered toadskin.")
                ("Success! You discover a wooden spider-totem, surrounded by charred offerings.")
                ("Success! You pull from the debris an ancient book, a wooden stake jammed through its middle. The edges of the hole are damp with blood.")
                ("Success! At the bottom of a cauldron you find bags of eyeballs, tongues, moth-wings, a beaker of ethyl acetate... A huge variety of alchemical necessities.")
                ("Gained x1 Old Bones.", "Cargo", 4)
                ("Gained x1 Bestial Remnants.", "Cargo", 4)
                ("Gained x1 Gallows Candle.", "Candle", 1)
                ("Gained x1 Dubious Trinket.", "Occult", 1)
                ("Gained x1 Toadskin.", "Drug", 1)
                ("Gained x1 Bizarre Effigy.", "Occult", 1)
                ("Gained x1 Ancient Grimoire.", "Cargo", 5)
                ("Gained x3 Alchemical Reagents.", "Alchemy", 1)
            ("Onward.", "")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("S")
            ("INGING WITCHES")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the gargantuan beetle follows, the witch-song reaching a shrieking crescendo."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the gargantuan beetle follows, the witch-song reaching a shrieking crescendo.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "Mudwights")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("M")
            ("UDWIGHTS")
            ("Dozens of indistinct figures, like dolls made of pushed-together sludge, crawl over the beetle's back. Mudwights. The smell of rot and methane is overpowering.")
            ("Defend yourself.", "Mudwights are about as intelligent as ants. They want to take you back to their nest.", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the mudwights splatter beneath its bulk.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
            ("M")
            ("UDWIGHTS")
            ("You search the twitching beetle. Surely something of value has survived?")
                ("Searching amongst the wreckage, you find nothing but mud-corpses and broken chitin.")
                ("Just a gangle of yellowing human bones.")
                ("Just scraps of animal bone and leather.")
                ("You find a dripping sack of unidentified meat.")
                ("Gained x1 Old Bones.", "Cargo", 4)
                ("Gained x1 Bestial Remnants.", "Cargo", 4)
                ("Gained x1 Delicious Meat.", "Food", 1)
            ("Onward.", "")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("M")
            ("UDWIGHTS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the gargantuan beetle follows."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the gargantuan beetle follows.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
