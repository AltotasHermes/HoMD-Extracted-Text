if (BoxMode == "Event")
    if (NearestKinetopede.TypeOfEnemy == "PlagueExiles")
        if (DialogueScreen == "FirstScreen")
            ("P")
            ("LAGUE EXILES")
            ("A miserable caravan of hooded plague victims, illegaly fleeing from quarantined Glitterberg. They limp along without looking up, and trail the dead behind them.")
            NeedsCargoItem("Sell them an Ineffective Remedy.", "It won't work, of course. But they don't know that.", (("[Requires x1 Ineffective Remedy. You will gain 70 G. You currently have x" + string(CargoReturnNumberOfItems(68))) + " Remedies.]"), HasRemedy)
            ("Attack.", "They will be dead soon anyway.")
            ("Leave.", "The plague-victims don't look up as you scuttle past them.")
        else if (DialogueScreen == "SecondScreen" && AttackingShiftyCrew == 1)
            ("P")
            ("LAGUE EXILES")
            ("They have a few rusted cannons, which they point at you half-heartedly.")
            ("Fire.", "")
                StartCombat("Neutral Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && SellingRemedy == 1)
            ("P")
            ("LAGUE EXILES")
            ("You suspect they know it won't work, but they're grateful just for the opportunity to hope.")
            ("Gained 70 G!", "Money", 0)
            ("Lost x1 Ineffective Remedy", "Cargo", 0)
            ("Leave.", "The plague-victims don't look up as you scuttle past them.")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the exiles are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && ComparingMaps == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "TradeConvoy")
        if (DialogueScreen == "FirstScreen")
            ("T")
            ("RADE CONVOY")
            ("The beetle is colossal, stag-horned, a leathery man sitting astride its head with reins and a whip. It drags behind it several caravans of trade goods and yammering merchants.")
                ("Ask to see their wares.", "You might be able to get something a little cheaper out here.")
            ("Attack.", "Enormous cannons poke through portholes in the beetle's shell.")
            ("Leave.", "Their merry bustle fades into the dark.")
        else if (DialogueScreen == "SecondScreen" && AttackingShiftyCrew == 1)
            ("T")
            ("RADE CONVOY")
            ("Any travelling merchant worth his salt is prepared for fighting off bandits along the route. They'd probably be more worried if it didn't happen.")
            ("Fire.", "")
                StartCombat("Neutral Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && SellingRemedy == 1)
            ("T")
            ("RADE CONVOY")
                ("They have a shipment of Calaram rum that they're happy to sell at a cut-throat rate.")
                NeedsMoney("Buy the Calaram Rum.", "", "[It costs 60 G.]", 60)
                ("They're carrying a little too much lumber, and they'd be happy to rid themselves of the extra weight.")
                NeedsMoney("Buy some Lumber.", "", "[It costs 70 G.]", 70)
                ("They have a crate of Angelwine, all the way from the Cities! They seem to regard this as extremely exotic.")
                NeedsMoney("Buy some Angelwine.", "", "[It costs 110 G.]", 110)
                ("One of the caravans contains cages and cages of swamp-beasts, bound for slaughter. A particular giant toad keeps escaping its cage and causing havoc, and they'd love to be rid of it.")
                NeedsMoney("Buy a Zoological Specimen (Alive).", "", "[It costs 40 G.]", 40)
            ("Farewell.", "The merchants wave you a cheery goodbye.")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the merchants are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && ComparingMaps == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "ThrallShipment")
        if (DialogueScreen == "FirstScreen")
            ("T")
            ("HRALL SHIPMENT")
            ("The beetle drags several rattling wheeled cages. You can see the dim, hunched shapes of thralls inside.")
            ("The slave-drivers greet you politely. They don't look like evil villains - just like typical merchants.")
                ("Ask to buy a thrall.", "They have a few fine specimens, they say.")
            ("Attack.", "Enormous cannons poke through portholes in the beetle's shell.")
            ("Leave.", "They rattle into the dark.")
        else if (DialogueScreen == "SecondScreen" && AttackingShiftyCrew == 1)
            ("T")
            ("HRALL SHIPMENT")
            ("Grim-faced mercenaries swivel the cannons. They're prepared for this sort of thing.")
            ("Fire.", "")
                StartCombat("Neutral Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && SellingRemedy == 1)
            ("T")
            ("HRALL SHIPMENT")
                ("They march out a sobbing man in a suit and tie for your inspection. " + '"' + "A visitant who just appeared in the House yesterday morning," + '"' + " they promise. " + '"' + "Fresh as a daisy, this one." + '"')
                NeedsMoney("Buy the Human Prisoner.", "", "[It costs 100 G.]", 100)
                ("They drag out a ghoul, so rotted she's almost skeletal. She's almost near her second death, they admit, so they'll sell her for cheap.")
                NeedsMoney("Buy the Ghoul Prisoner.", "", "[It costs 50 G.]", 50)
                ("They drag out a carchar, weighed down by dozens of iron chain. A fighter, they tell you. Vicious. Keep an eye on this one.")
                NeedsMoney("Buy the Carchar Prisoner.", "", "[It costs 100 G.]", 100)
                ("They haul out a yellow-capped mycena. Fresh from one of the nearby villages, they tell you. Knows all sorts of things about herbs and remedies.")
                NeedsMoney("Buy the Mycena Prisoner.", "", "[It costs 100 G.]", 100)
            ("Farewell.", "The slave-drivers wave you a cheery goodbye.")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the slavers are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && ComparingMaps == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "EscapedThralls")
        if (DialogueScreen == "FirstScreen")
            ("E")
            ("SCAPED THRALLS")
            ("Some thralls have commandeered a giant beetle from their captors and ridden it into the dark. The beetle's shell is scarred and pock-marked from past close encounters - as are the ex-thralls themselves.")
                ("One of them asks to join your crew.", "They will be sorry to leave their comrades, of course, but grateful for the safety and comfort of a kinetopede.")
            ("Attack.", "Because they haven't been unlucky enough.")
            ("Leave.", "The beetle lumbers into the dark.")
        else if (DialogueScreen == "SecondScreen" && AttackingShiftyCrew == 1)
            ("E")
            ("SCAPED THRALLS")
            ("They raise their stolen weapons in brave, doomed unity.")
            ("Fire.", "")
                StartCombat("Neutral Beetle", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && SellingRemedy == 1)
            ("E")
            ("SCAPED THRALLS")
            ("The volunteer comes out to meet you, hope in their eyes and a bundle of meager possessions across their shoulder.")
            ("On second thoughts...", "You have no room, or no inclination, to accept another crewmember.", "")
            if (ReturnNumberOfLowerCrewRoles("Swabbie") < 4)
                ("Recruit them as a Swabbie.", "", "")
            if (ReturnNumberOfLowerCrewRoles("Gunner") < 4)
                ("Recruit them as a Gunner.", "", "")
            if (ReturnNumberOfLowerCrewRoles("Guard") < 4)
                ("Recruit them as a Guard.", "", "")
            if (ReturnNumberOfLowerCrewRoles("Junior Engineer") < 4)
                ("Recruit them as a Junior Engineer.", "", "")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("The colossal beetle-shell cracks, splinters, ichor bubbles through the wound. It collapses, mandibles clicking in dismay, and the thralls are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
        else if (DialogueScreen == "SecondScreen" && ComparingMaps == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("The beetle clicks its mandibles, confused, swinging its titanic head this way and that. Its crew are dead, its reins slack.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
