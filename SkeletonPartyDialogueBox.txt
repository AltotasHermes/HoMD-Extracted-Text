if (BoxMode == "Event")
            oPlayer.LastVisitedForSavePurposes = "Skeleton Party"
            FileSelected = "SaveFile0.homd"
        else if (DialogueScreen == "FirstScreen")
                ("S")
                ("KELETON PARTY")
                ("Flashing lights. Pumping music. A dusty smell. And a writhing, rattling crowd.")
                ("Dancing skeletons fill the room. Dancing skeletons in party hats. As you stare, one of them jigs its way towards you, clacks its jaw in welcome.")
                if NextButton("There must be thousands of them. Twisting, gyrating, singing in dry whispers.", 1)
                        (("New location visited. " + ApprehensionsString), "Logbook", 4)
                            FileSelected = "SaveFile0.homd"
                    if (oPlayer.LastVisited != "Skeleton Party" && global.SkeletonParty1 == 0)
                        ("Mingle.", "The horde of bones opens to accept you. The music is loud, but the skeletons talk only in dry whispers.", "#")
                    ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("S")
                ("KELETON PARTY")
                ("The skeleton party is still in full swing. Does it ever end? One of the bony revellers recognizes you and cheers.")
                ("The music is even louder than you remembered.")
                if (oPlayer.LastVisited != "Skeleton Party" && global.SkeletonParty1 == 0)
                    ("Mingle.", "The horde of bones opens to accept you. The music is loud, but the skeletons talk only in dry whispers.", "")
                if (oPlayer.LastVisited != "Skeleton Party" && global.SkeletonParty2 == 0)
                    ("A game of poker.", "You are beckoned into the VIP section backstage. It's much quieter here - you can actually hear yourself think.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("S")
                ("KELETON PARTY")
                ("Flashing lights. Pumping music. A dusty smell. And a writhing, rattling crowd.")
                if (oPlayer.LastVisited != "Skeleton Party" && global.SkeletonParty1 == 0)
                    ("Mingle.", "The horde of bones opens to accept you. The music is loud, but the skeletons talk only in dry whispers", "")
                if (oPlayer.LastVisited != "Skeleton Party" && global.SkeletonParty2 == 0)
                    ("A game of poker.", "You are beckoned into the VIP section backstage. It's much quieter here - you can actually hear yourself think.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 0)
            ("I")
            ("NTO THE DARK")
            ("You can only go south. The Doors are locked on all other sides.")
            ("On second thoughts...", "There are matters here that still merit attention.", "#"0, 0.8)
            ("Pore over the map.", "Orient yourself before you launch off into the ravenous dark.")
                    BoxMode = "Map"
            ("South", "Back to the House.")
                oPlayer.LastVisited = "Skeleton Party"
                LeavingSpecialRoomDialogueBox("South")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 1)
        else if (DialogueScreen == "SecondScreen" && Poker1 == 1)
            ("S")
            ("KELETON PARTY")
            ("You find yourself amongst a crowd of genteel skeletons in three-piece suits. The one with the monocle takes a liking to you. He ushers you to a quiet side-room whee cigar-puffing skeletons in top hats are playing poker.")
            ("You are offered a seat at the game.")
            NeedsMoney("Join the game.", "The skeletons cheer. One of them raises his glass, which is full of red liquid you hope is wine.", "[Requires 100 G.]", 100)
            ("Slip away.", "You don't fancy a punt.", "")
        else if (DialogueScreen == "SecondScreen" && Poker2 == 1)
            ("S")
            ("KELETON PARTY")
            ("As it turns out, skeletons have an excellent poker face. You lose the first few hands. This might be harder than you thought.")
            ("Lost 100 G!", "Money", 0)
            ("Play to win.", "You'll show them what a meatsack can do.", "Guile", 55)
            ("Fold.", "You don't want to lose any more.", "")
        else if (DialogueScreen == "SecondScreen" && Poker3 == 1 && WasChallengeSuccessful == 1)
            ("S")
            ("KELETON PARTY")
            ("The skeletons are excellent players, but they've finally met their match. After an intense four-hour game, you've stripped them of all that they have, including the top hats. They don't seem upset in the slightest, and one of them calls a toast in your honour.")
            ("The monocled skeleton, however, seems troubled. He leans forward and taps your chest with a bony finger. " + '"' + "Shall we play for something more serious? Your heart, perhaps?" + '"' + " He fiddles with his monocle. " + '"' + "In exchange for my eyeglass." + '"')
                ("Gained x1 Unique Experience: A game of poker with skeletons", "Logbook", 3)
            ("Gained 600 G!", "Money", 4)
            ("(You passed a Guile challenge!)", "Challenge", 4)
            ("Accept the dark proposition.", "The monocled skeleton leans back again. Is his grin somehow wider?", "Guile", 85)
            ("Collect your winnings and leave.", "A fine game, but you have no desire for riskier business.", "")
        else if (DialogueScreen == "SecondScreen" && Poker3 == 1 && WasChallengeSuccessful == 0)
            ("S")
            ("KELETON PARTY")
            ("The skeletons are excellent players, and they clean you out thoroughly.")
            ('"' + "You must come back sometime," + '"' + " says the monocled skeleton, raking your chips into his ribcage. " + '"' + "Any time." + '"')
            ((("Lost " + string(CoinLoss)) + " G!"), "Money", 4)
            ("(You failed a Guile challenge...)", "Challenge", 4)
            ("Slink away.", "At least you gave it a shot.", "")
        else if (DialogueScreen == "SecondScreen" && Poker4 == 1 && WasChallengeSuccessful == 1)
            ("S")
            ("KELETON PARTY")
            ("The game is quiet, lengthy, intense. The monocled skeleton is taking this session seriously, for the first time. The other skeletons watch in awe.")
            ("He plays better than anyone you've ever seen. But you play better still. Finally, you press down your cards in triumph, and the skeleton presses his monocole into your hand with a sigh. " + '"' + "We must play again sometime," + '"' + " he says. " + '"' + "Perhaps in some other life." + '"')
            ("He collapses into a pile of disconnected bones. The other skeletons moan in horror and flee back to the comfort of their party.")
            ("Gained x1 Occult Relic", "Occult", 1)
            ("Gained x1 Old Bones", "Cargo", 4)
            ("(You passed a Guile challenge!)", "Challenge", 4)
            ("All parties must end eventually.", "You stroll from the VIP suite.", "")
        else if (DialogueScreen == "SecondScreen" && Poker4 == 1 && WasChallengeSuccessful == 0)
            ("S")
            ("KELETON PARTY")
                ("The game is quiet, lengthy, intense. The monocled skeleton is taking this session seriously, for the first time. The other skeletons watch in awe.")
                ("He plays better than anyone you've ever seen, and it's over far too fast. You lose. Your heart sinks; the last thing it will ever do.")
                ('"' + "A fine game," + '"' + " says the monocled skeleton, reaching into your chest. Your flesh and ribs part for him like a blooming flower - he grasps your beating heart and gently plucks it free.")
                ("The skeletons carry on a whispered conversation for a while, and you sit at the table and listen. You can't join in. You feel cold and empty.")
                ("(You failed a Guile challenge...)", "Challenge", 4)
                ("Gained Distinction: Heartless", "Logbook", 1)
                ("Lost some Sanity", "Sanity", 0)
                ("Slink away.", "Your chest still feels hollow and raw.", "")
                    if (!steam_get_achievement("HEARTLESS"))
                        steam_set_achievement("HEARTLESS")
                ("The game is quiet, lengthy, intense. The monocled skeleton is taking this session seriously, for the first time. The other skeletons watch in awe.")
                ("He plays better than anyone you've ever seen, and it's over far too fast. You lose. Your heart sinks; the last thing it will ever do.")
                ('"' + "A fine game," + '"' + " says the monocled skeleton, reaching into your chest. Your flesh and ribs part for him like a blooming flower - and then he hesitates. He roots around in your empty chest for a while.")
                ("Smugly, you let him know that he can have your heart - if he can find it. The other skeletons shriek with laughter. The monocled one slinks away, knowing himself bested.")
                ("(You failed a Guile challenge...)", "Challenge", 4)
                ("Gained x1 Droll Recollection", "Logbook", 3)
                ("Return to the party.", "The other skeletons clap you on the back and shake your hand.", "")
        else if (DialogueScreen == "SecondScreen" && WanderTheStreets == 1)
                ("S")
                ("KELETON PARTY")
                ("The skeletons dance around you, clacking their jaws in amusement. Your bellowed queries are met with a few whispered replies, lost in the music. One of them affixes a party hat to your head.")
                ("You manage to find a quiet corner where the music is only headache-inducing. A skeleton daubed in glowing green paint leans on your shoulder conspiratorially, and whispers some things you'd rather not have heard.")
                ("Gained x1 Terrible Secret", "Logbook", 3)
                ("Slip away.", "You don't want to hear more.", "")
                ("S")
                ("KELETON PARTY")
                ("The skeletons dance around you, clacking their jaws in amusement. Your bellowed queries are met with a few whispered replies, lost in the music. One of them affixes a party hat to your head.")
                ("You manage to find a quiet corner where the music is only headache-inducing. A skeleton with golden teeth opens his trenchcoat to reveal row upon row of small dark bottles. He offers to sell you something that'll make you bleed poetry.")
                NeedsMoney("Buy Colour-Dust.", "Money changes hands. When you look up, the skeleton has vanished.", "[Costs 50 G.]", 50)
                NeedsMoney("Buy Necrosia.", "Money changes hands. When you look up, the skeleton has vanished.", "[Costs 10 G.]", 10)
                NeedsMoney("Buy Witches' Butter.", "Money changes hands. When you look up, the skeleton has vanished.", "[Costs 20 G.]", 20)
                NeedsMoney("Buy a Godsmoke Vial.", "Money changes hands. When you look up, the skeleton has vanished.", "[Costs 90 G.]", 90)
                ('"' + "No, thanks." + '"', "The skeleton clacks its shining teeth and wanders off.", "")
                ("S")
                ("KELETON PARTY")
                ("The skeletons dance around you, clacking their jaws in amusement. Your bellowed queries are met with a few whispered replies, lost in the music. One of them affixes a party hat to your head.")
                ("You manage to find a quiet corner where the music is only headache-inducing. A skeleton in a snappy white suit and hat appears at your shoulder; he clamps your wrist in an iron grip and whispers mediocre jokes in your ear for hours. There's some decent material in there, but not much.")
                ("Gained x1 Droll Recollection", "Logbook", 3)
                ("Lost a small amount of Sanity", "Sanity", 0)
                ("Slip away.", "Please, no more.", "")
        else if (DialogueScreen == "SecondScreen" && MiscellaneousEvent == 1)
        else if (DialogueScreen == "SecondScreen" && MiscOptions == 1)
            ("C")
            ("APTAIN'S QUARTERS")
            ("The machine greets you with a steady, soothing hum. In your quarters, you can safely decide what side activity to pursue. Deal with prisoners? Drink something? Operate on your own memories, perhaps?")
            ("Return to location.", "")
        else if (DialogueScreen == "LastScreen")
            ("T")
            ("EST")
            ("Successful test.")
            ("Return.", "", "")
    draw_text(((view_wport[(0 << 0)] * 0.5) - 3), ((view_hport[(0 << 0)] * 0.75) - 3), "Skeleton Party")
    draw_text((view_wport[(0 << 0)] * 0.5), (view_hport[(0 << 0)] * 0.75), "Skeleton Party")
