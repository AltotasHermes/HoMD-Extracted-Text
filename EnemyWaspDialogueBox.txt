if (BoxMode == "Event")
    if (NearestKinetopede.TypeOfEnemy == "SlaveTakers")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("S")
            ("LAVE-TAKERS")
                ("The wasp's approach is signalled by a hideous, mind-breaking buzz. It dive-bombs your kinetopede, its sting scraping a line across the hull, and the crew on its back whoop and cheer.")
                ("You see whips, hanging shackles, iron chains. Slave-takers, then, come to deliver vengeance to those who helped in bringing ruin to Scornvaunt.")
                ("The wasp's approach is signalled by a hideous, mind-breaking buzz. It dive-bombs your kinetopede, its sting scraping a line across the hull, and the crew on its back whoop and cheer.")
                ("You see whips, hanging shackles, iron chains. Slave-takers, then, come to drag you to Scornvaunt.")
                NeedsCargoItem("Offer them a prisoner.", "They don't much care how they meet their quota, as long as it's met.", "[Requires x1 Human Prisoner, x1 Ghoul Prisoner, x1 Carchar Prisoner or x1 Mycena Prisoner.]", sMoneyArt, 0, 0.8, GraveddonRespect)
            ("Defend yourself.", "There is no more miserable fate to fight against.", "[Initiates combat]")
                StartCombat("Enemy Wasp", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1)
            ("S")
            ("LAVE-TAKERS")
            ("The wasp lands beside you, and the slavers bathe its trembling wings in ointment. They want to inspect your prisoner for defects before taking them.")
                ("Give them your Human Prisoner.", "They wrench open the poor fellow's jaw, probe at his teeth. Then nod, and he is hauled screaming onto the wasp's back.", "[You will lose x1 Human Prisoner.]", sMoneyArt, 0, 0.8)
                ("Give them your Ghoul Prisoner.", "They stick a pin in rotting flesh, observe the reaction. Then nod and haul the poor ghoul onto their wasp's back.", "[You will lose x1 Ghoul Prisoner.]", sMoneyArt, 0, 0.8)
                ("Give them your Carchar Prisoner.", "They seem impressed by the carchar's size and strength. They haul the poor fellow onto the wasp's back immediately.", "[You will lose x1 Carchar Prisoner.]", sMoneyArt, 0, 0.8)
                ("Give them your Mycena Prisoner.", "A slave-taker presses his finger firmly into the mycena's spongy flesh, watches it spring back. He nods, and the poor fellow is hauled screaming onto the wasp's back.", "[You will lose x1 Mycena Prisoner.]", sMoneyArt, 0, 0.8)
            ("Change your mind. Attack.", "", "[Initiates combat]")
                StartCombat("Enemy Wasp", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Your final missile blows off the huge wasp's wing, sending it spinning to the floor. Slavers are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
            ("V")
            ("ICTORIOUS")
            ((("You search the smashed, twitching wasp. A sack of guineas burst open when it hit the floor, spilling gold everywhere - you count " + string(RandomMoney)) + " coins, all told. Anything else?"))
                    ("Success! You pull from the wreckage a crate of Fargyle whiskey. Most of the bottles have survived intact.")
                    ("Success! Rooting through the wreckage, you come across a bolt of Aranach silk.")
                    ("Success! You find a crate filled with canisters of hazard-coffee.")
                    ("Success! Pulling aside the debris, you find two empty eyes staring up at you. It's a golem, thankfully inactive.")
                    ("Success! Buried beneath several strata of debris, you discover a strange figurine with wings of glass. You suspect it has occult properties, though you're not quite sure.")
                    ("Success! You discover what was once a Hand of Glory, though it has been crushed beneath the wreckage. Still, you manage to recover one of its fingers.")
                    ("Success! You pull a crate from the wreckage, and when you prise it open you are greeted by the sight of dozens and dozens of rifles and swords.")
                    ("Success! You haul from the wreckage an intact package of dragon spice.")
                    ("Success! In one particular spot, the wreckage is shifting oddly. Digging down, you find a glowing shape, shifting recklessly through dimensions.")
            ("And there, in a barrel around the wasp's thorax - gallons of scorn honey. Scornvaunt's second-most popular trade good.")
                    ("Gained x1 Fargyle Whiskey.", "Cargo", 0)
                    ("Gained x1 Aranach Silk.", "Spider", 1)
                    ("Gained x1 Hazard-Coffee.", "Coffee", 1)
                    ("Gained x1 Deactivated Golem.", "Occult", 3)
                    ("Gained x1 Dubious Trinket.", "Occult", 1)
                    ("Gained x1 Gallows Candle.", "Candle", 1)
                    ("Gained x1 Arms Consignment.", "Cargo", 1)
                    ("Gained x1 Dragon Spice.", "Food", 1)
                    ("Gained x1 Oscillating Prism.", "Treasure", 1)
            ("Gained x1 Scorn Honey", "Food", 1)
            if (oInventories.CombatNPC != "Neutral Kinetopede")
                    ("Gained x1 War Story.", "Logbook", 3)
                    ("Gained x1 Thrilling Yarn.", "Logbook", 3)
                    ("Gained x1 Horrifying Ordeal.", "Logbook", 3)
            ("Onward.", "")
                if (oInventories.CombatNPC != "Neutral Kinetopede")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("Without anyone holding its reins, the wasp flies in bewildered circles for a while. Finally it lands with a thud beside your kinetopede, licking its wounds.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("S")
            ("LAVE-TAKERS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the enormous wasp follows, buzzing with terrible fury."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the wasp follows, buzzing with terrible fury.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more. The whooping and howling of the Graveddonites reaches a fevered intensity.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Your Sanity decreases slightly.", "Sanity", 0)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Wasp", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
    else if (NearestKinetopede.TypeOfEnemy == "BroodMothers")
        if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 0)
            ("B")
            ("ROOD-MOTHERS")
            ("The wasp is bloated, its belly swollen by eggs, its ovipositor raw and drooling. On its back are a group of veiled nuns, entrusted with the delicate holy task of finding their wasp a host in whom to lay its eggs.")
            ("They seem to have settled on a candidate. The wasp dive-bombs you, its sting scraping your hull.")
            NeedsCargoItem("Offer them a prisoner.", "They want a warm body. They don't mind who.", "[Requires x1 Human Prisoner or x1 Carchar Prisoner.]", sMoneyArt, 0, 0.8, GraveddonRespect)
            ("Defend yourself.", "There is no more miserable fate to fight against.", "[Initiates combat]")
                StartCombat("Enemy Wasp", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "FirstScreen" && NearestKinetopede.FleeFromPlayer == 1)
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 1 && Flee == 1)
        else if (DialogueScreen == "SecondScreen" && EnemyFleeing == 1)
        else if (DialogueScreen == "SecondScreen" && PlayerDeath == 1)
        else if (DialogueScreen == "SecondScreen" && GraveddonitesLikeYou == 1)
            ("B")
            ("ROOD-MOTHERS")
            ("The wasp lands beside you, and the nuns sing it a crooning lullaby.")
                ("Give them your Human Prisoner.", "The screams - oh gods, the screams -", "[You will lose x1 Human Prisoner.]", sMoneyArt, 0, 0.8)
                ("Give them your Carchar Prisoner.", "You had never seen a carchar weep before.", "[You will lose x1 Carchar Prisoner.]", sMoneyArt, 0, 0.8)
            ("Change your mind. Attack.", "", "[Initiates combat]")
                StartCombat("Enemy Wasp", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
            ("Flee.", "If you turn off your Heartlight, you should be able to slip away.", "Guile", 45)
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 0)
            ("V")
            ("ICTORIOUS")
            ("Your final missile blows off the pregnant wasp's wing, sending it spinning to the floor. Nuns are thrown screaming from its back.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Is there anything left to salvage?")
        else if (DialogueScreen == "SecondScreen" && EnemyLoot == 1)
            ("V")
            ("ICTORIOUS")
            ("You search the smashed, twitching wasp.")
                    ("Success! You pull from the wreckage a crate of Fargyle whiskey. Most of the bottles have survived intact.")
                    ("Success! Rooting through the wreckage, you come across a bolt of Aranach silk.")
                    ("Success! You find a crate filled with canisters of hazard-coffee.")
                    ("Success! Pulling aside the debris, you find two empty eyes staring up at you. It's a golem, thankfully inactive.")
                    ("Success! Buried beneath several strata of debris, you discover a strange figurine with wings of glass. You suspect it has occult properties, though you're not quite sure.")
                    ("Success! You discover what was once a Hand of Glory, though it has been crushed beneath the wreckage. Still, you manage to recover one of its fingers.")
                    ("Success! You pull a crate from the wreckage, and when you prise it open you are greeted by the sight of dozens and dozens of rifles and swords.")
                    ("Success! You haul from the wreckage an intact package of dragon spice.")
                    ("Success! In one particular spot, the wreckage is shifting oddly. Digging down, you find a glowing shape, shifting recklessly through dimensions.")
            ("And there, in a barrel around the wasp's thorax - gallons of scorn honey. Scornvaunt's second-most popular trade good.")
                    ("Gained x1 Fargyle Whiskey.", "Cargo", 0)
                    ("Gained x1 Aranach Silk.", "Spider", 1)
                    ("Gained x1 Hazard-Coffee.", "Coffee", 1)
                    ("Gained x1 Deactivated Golem.", "Occult", 3)
                    ("Gained x1 Dubious Trinket.", "Occult", 1)
                    ("Gained x1 Gallows Candle.", "Candle", 1)
                    ("Gained x1 Arms Consignment.", "Cargo", 1)
                    ("Gained x1 Dragon Spice.", "Food", 1)
                    ("Gained x1 Oscillating Prism.", "Treasure", 1)
            ("Gained x1 Scorn Honey", "Food", 1)
            if (oInventories.CombatNPC != "Neutral Kinetopede")
                    ("Gained x1 War Story.", "Logbook", 3)
                    ("Gained x1 Thrilling Yarn.", "Logbook", 3)
                    ("Gained x1 Horrifying Ordeal.", "Logbook", 3)
            ("Onward.", "")
                if (oInventories.CombatNPC != "Neutral Kinetopede")
        else if (DialogueScreen == "SecondScreen" && EnemyDeath == 1 && oInventories.EnemyVehicleLeftIntact == 1)
            ("V")
            ("ICTORIOUS")
            ("Without anyone holding its reins, the wasp flies in bewildered circles for a while. Finally it lands with a thud beside your kinetopede, licking its wounds.")
            ("You have won! Sanity recovers slightly.", "Sanity", 1)
            ("You live to fight again.", "Tear it apart. Take everything there is.")
        else if (DialogueScreen == "SecondScreen" && WasChallengeSuccessful == 0 && Flee == 1)
            ("B")
            ("ROOD-MOTHERS")
            if (oPlayer.Lightbearer != "Dead" && oPlayer.Pilot != "Dead")
                ((((string(oPausableGame.LightbearerFirstName) + " turns off your Heartlight, and ") + string(oPausableGame.PilotFirstName)) + " slams the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the enormous wasp follows, buzzing with terrible fury."))
                ("You turn off your Heartlight, and slam the kinetopede into sudden, lurching, scrabbling movement. You skitter into the darkness, but the wasp follows, buzzing with terrible fury.")
            ("Finally they catch you, trap you. You have no choice but to turn and face them once more. The whooping and howling of the Graveddonites reaches a fevered intensity.")
            ("(You have failed a Guile challenge...)", "Challenge", 4)
            ("Your Sanity decreases slightly.", "Sanity", 0)
            ("Defend yourself.", "", "[Initiates combat]")
                StartCombat("Enemy Wasp", NearestKinetopede.HullSeed, NearestKinetopede.WillSeed, global.NameArgumentArray, global.CrewNumbersAndAppearanceArray, NearestKinetopede.NumberOfEnemyWeapons, NearestKinetopede.RandomSeed)
        else if (DialogueScreen == "SecondScreen" && TybaltQuest1 == 1)
