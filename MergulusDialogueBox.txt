if (BoxMode == "Event")
            oPlayer.LastVisitedForSavePurposes = "Mergulus"
            FileSelected = "SaveFile0.homd"
        else if (DialogueScreen == "FirstScreen")
                ("M")
                ("ERGULUS")
                ("The Empire's slaughtering-grounds, where gods are killed and processed in the rusted monstrosity of blades called the Shambles. Bloated god-corpses lay long as streets, halfway stripped for parts.")
                if NextButton("The Knackers rule the city with an iron fist. The gods they kill are food, trophy, brick, mortar.", 1)
                        (("New location visited. " + ApprehensionsString), "Logbook", 4)
                            FileSelected = "SaveFile0.homd"
                        ("Enter the Shambles in search of the souls of the Vessels.")
                        ("Enter the Shambles in search of a weapon that can kill the Dancing God.")
                        NeedsMoney("Rest and recover.", "You've spent a long time in darkness. Your crew need a few days to blow off steam.", "[This will recover some of your Sanity, but will cost you 20 guineas.]", 20)
                        NeedsMoney("Repair your hull.", "Danglehands hang from the distant ceiling: severed hands at the end of long lengths of Thread. They glide silently about your kinetopede, hammering and welding.", (("[This will cost you " + string(FixCost)) + " guineas.]"), FixCost)
                        NeedsMoney("Gather news.", "You find a Threaded citizen flensing one of the god-corpses. They are willing to talk, even to an unthreaded upstart, but only for a price.", "[This will cost you 30 guineas.]", 30)
                    if (oPlayer.LastVisited != "Mergulus" && global.Mergulus == 0)
                        ("Wander the streets.", "The Knackers have declared an early curfew for all unthreaded. You will have to be quick.", "")
                    ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("M")
                ("ERGULUS")
                ("The Empire's slaughtering-grounds, where gods are killed and processed in the rusted monstrosity of blades called the Shambles. Bloated god-corpses lay long as streets, halfway stripped for parts.")
                    NeedsMoney("Rest and recover.", "You've spent a long time in darkness. Your crew need a few days to blow off steam.", "[This will recover some of your Sanity, but will cost you 20 guineas.]", 20)
                    NeedsMoney("Repair your hull.", "Danglehands hang from the distant ceiling: severed hands at the end of long lengths of Thread. They glide silently about your kinetopede, hammering and welding.", (("[This will cost you " + string(FixCost)) + " guineas.]"), FixCost)
                    ("Enter the Shambles in search of the souls of the Vessels.")
                    ("Enter the Shambles in search of a weapon that can kill the Dancing God.")
                    NeedsMoney("Gather news.", "You find a Threaded citizen flensing one of the god-corpses. They are willing to talk, even to an unthreaded upstart, but only for a price.", "[This will cost you 30 guineas.]", 30)
                if (oPlayer.LastVisited != "Mergulus" && global.Mergulus == 0)
                    ("Wander the streets.", "The Knackers have declared an early curfew for all unthreaded. You will have to be quick.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 0)
            ("I")
            ("NTO THE DARK")
            ("Which direction will you go?")
            ("On second thoughts...", "There are matters here that still merit attention.", "#"0, 0.8)
            ("Pore over the map.", "Orient yourself before you launch off into the ravenous dark.")
                    BoxMode = "Map"
            ("North.", "Say goodbye to your teeth. Say hello to sweets.")
                oPlayer.LastVisited = "Mergulus"
                LeavingSpecialRoomDialogueBox("North")
            ("West.", "Go far enough, and maybe you'll find an old, peculiar prison.")
                oPlayer.LastVisited = "Mergulus"
                LeavingSpecialRoomDialogueBox("West")
            ("East.", "Just a wall of locked rooms.")
                oPlayer.LastVisited = "Mergulus"
                LeavingSpecialRoomDialogueBox("East")
            ("South.", "To the Imperatrix's tower of witchglass and bone.")
                oPlayer.LastVisited = "Mergulus"
                LeavingSpecialRoomDialogueBox("South")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 1)
        else if (DialogueScreen == "SecondScreen" && DancingQuest == 1)
        else if (DialogueScreen == "SecondScreen" && WanderTheStreets == 1)
                ("M")
                ("ERGULUS")
                ("You are suddenly struck by a shriek so loud it shivers your bones. A dying god is being dragged through the streets, thrashing and screaming, by a gang of the dangling Threaded.")
                ("The god screams again, and you taste the copper tang of blood. Your nose and fingernails are bleeding. You will need to find shelter, before the god's screaming frays you at the seams.")
                ("Find somewhere to hide.", "Be quick. The god is being dragged closer and closer.", "Vigilance", 60)
                ("M")
                ("ERGULUS")
                ("You walk around the outskirts of the Shambles, the swollen machine that the Threaded use to butcher their captured gods. It's the size of a city-district, a rusted agglomeration of spikes and skewers and buzzsaw so colossal that your eyes ache trying to take it all in.")
                ("Suddenly, you hear a weak cry for help. You rush toward the sound, and find one of the Knackers - the Empire's squad of butchers - hanging limply from a hook a few dozen feet above you. His Thread is all snagged and twisted in the machinery behind him.")
                ('"' + "Fetch me a Vessel," + '"' + " croaks the Knacker. Blood spills from his open mouth. " + '"' + "Dying." + '"')
                ("Find a Vessel for the dying Knacker.", "The Vessels are how the Empire heals its elite.", "")
                ("Watch the Knacker as he dies.", "The Threaded are monsters, and powerful monsters at that. This should be an interesting study in their weaknesses.", "")
                ("Hurry away.", "You don't have the time or inclination to help. The Knacker's screams are soon lost on the breeze.", "")
        else if (DialogueScreen == "SecondScreen" && Hiding1 == 1 && WasChallengeSuccessful == 1)
            ("M")
            ("ERGULUS")
            ("The dying god is a titanic bloodsoaked thing, half-squid and half-golden-statue and covered in wailing mouths. Its screams fill the world.")
            ("You rush away from it, hands clapped over your ears, and dive into a pile of steaming viscera left behind by some previous deity. Nestled inside three tons of rancid meat, the power of the divine screams finally cannot reach you.")
            ("By the time you emerge, the god has been dumped into the Shambles. Its screams have ended.")
            ("(You passed a Vigilance challenge!)", "Challenge", 0)
            ("You need a bath.", "Urgently.", "")
        else if (DialogueScreen == "SecondScreen" && Hiding1 == 1 && WasChallengeSuccessful == 0)
            ("M")
            ("ERGULUS")
            ("The dying god is a titanic bloodsoaked thing, half-squid and half-golden-statue and covered in wailing mouths. Its screams fill the world.")
            ("You rush away from it, hands clapped over your ears, but you can't find anywhere suitable to hide. You fall to the floor, adding your own screams to the god's as all your orifices burn and bleed.")
            ("A seeming eternity of writhing agony. You don't recover until the god is dumped into the Shambles. Its screams abruptly end.")
            ("(You failed a Vigilance challenge...)", "Challenge", 0)
            ("Gained x1 Horrifying Ordeal", "Logbook", 3)
            ("You need a drink.", "Urgently.", "")
        else if (DialogueScreen == "SecondScreen" && FixHull == 1)
        else if (DialogueScreen == "SecondScreen" && RecoveringSanity == 1)
            ("A")
            (" BRIEF RESPITE")
            ("Mergulus is hostile to those without Thread. You are turned away at every door.")
            ("It takes some time to find somewhere that will allow you in; a run-down hostel that caters specifically to unthreaded foreigners. The atmosphere is grim.")
            ("Your sleep is troubled by nightmares of screaming gods.")
            ("Your Sanity recovers slightly.", "Sanity", 1)
            ("You spent 1 day at Mergulus.", "Time", 1)
            ("You feel a little better.", "One night of humanity and warmth makes a world of difference.", "#")
        else if (DialogueScreen == "SecondScreen" && FindingVessel1 == 1)
            ("M")
            ("ERGULUS")
            ("You rush off to a more populated part of Mergulus, hoping to find a Vessel for the dying man. There, you come across a Threaded citizen gliding about her day-to-day life - once you've imparted the urgency of the situation, she plucks you up by your armpits and flies you to the nearest hospital.")
            ("In the hospital's immaculate white corridors, you discover Threaded doctors herding hordes of Vessels between the wards. The Vessels are unthreaded humans whose minds have been destroyed. They shuffle like undead things, drooling and sobbing.")
            ("The woman who flew you here notices your look of horror. " + '"' + "To heal one of the Threaded, a Vessel must be sacrificed," + '"' + " she explains. " + '"' + "It is the way of things." + '"')
            ("Fly a Vessel back to the dying Knacker.", "At this point, you have no choice. And the Vessels look like they would prefer death anyway.", "")
            ("Protest.", "This is barbaric. Is there no other way?", "")
            ("Leave.", "Without your help, they'll never find the dying Knacker in time. And one Vessel's life will be spared. For a time.", "")
        else if (DialogueScreen == "SecondScreen" && FindingVessel2 == 1)
            ("M")
            ("ERGULUS")
            ("The Knacker struggles weakly upon his hook, a just-pinned butterfly. You flip open a notepad, click your pen, and observe the demise of a god-killer.")
            ("He dies just like an unthreaded human, in the end. Perhaps because his Thread is caught in the machine behind him? You note that it hangs more limply than usual as it emerges from the corners of his mouth, his fingertips, and his eyes.")
            ("Gained x1 Unsettling Conjecture", "Logbook", 4)
            ("Useful to know.", "You leave the Knacker's corpse dangling, as it did in life.", "")
        else if (DialogueScreen == "SecondScreen" && FindingVessel3 == 1)
            ("M")
            ("ERGULUS")
            ("The Threaded woman grabs a dull-eyed Vessel. Lifting you both as easily as she might lift two straw dolls, she flies you back to the Shambles. You guide her to the dying Knacker's location.")
            ('"' + "Thank the abstract concept of mercy!" + '"' + " exclaims the Knacker, as the Threaded woman helps him down. " + '"' + "I am saved!" + '"')
            ("Once she has set him down, the Threaded woman draws a chalk circle around him, and another around the Vessel. A flash of scarlet light, a sigh, a stab of blinding pain in your skull. Instantly, the Knacker is whole and healed, not even scarred - while the Vessel's corpse lies mangled on the floor, a bloody hole through his torso.")
            ('"' + "Thank you," + '"' + " says the Knacker again. His clothes, at least, are still stained with blood, though the same could be said for most of the god-butchers.")
            ("Gained x1 Moment of Melancholy", "Logbook", 3)
            ('"' + "That is barbaric." + '"', "You can't stop yourself - it must be said.", "")
            ("Ask for a reward.", "At this point, you may as well.", "")
            ("Leave without another word.", "An unpleasant story, and as far as you're concerned it's come to an end.", "")
        else if (DialogueScreen == "SecondScreen" && FindingVessel4 == 1)
            ("M")
            ("ERGULUS")
            ('"' + "How else do you suggest we heal the poor man?" + '"' + " asks the Threaded woman, looking genuinely confused. " + '"' + "This is what Vessels are for, unthreaded. I will not abide your primitive medicines being inflicted upon a Threaded citizen." + '"')
            ("Fly a Vessel back to the dying Knacker.", "At this point, you have no choice. And the Vessels look like they would prefer death anyway.", "")
            ("Leave.", "Without your help, they'll never find the dying Knacker in time. And one Vessel's life will be spared. For a time.", "")
        else if (DialogueScreen == "SecondScreen" && FindingVessel5 == 1)
            ("M")
            ("ERGULUS")
            ("You turn and hurry out of the hospital, ignoring the protestations of the Threaded woman behind you. You won't be party to the Empire's casual atrocities.")
            ("Gained some Sanity", "Sanity", 1)
            ("Return to the kinetopede.", "A Vessel will not die because of you.", "")
        else if (DialogueScreen == "SecondScreen" && FindingVessel6 == 1)
            ("M")
            ("ERGULUS")
            ("The two Threaded stare at you like they found you clinging to the bottom of a shoe. " + '"' + "Do not speak to your betters that way, unthreaded," + '"' + " chastises the Knacker. " + '"' + "Speak out of turn again, and I will throw you into the Shambles." + '"')
            ("Ask for a reward.", "At this point, you may as well.", "")
            ("Leave without another word.", "An unpleasant story, and as far as you're concerned it's come to an end.", "")
        else if (DialogueScreen == "SecondScreen" && FindingVessel7 == 1)
            ("M")
            ("ERGULUS")
            ('"' + "I suppose you did save the life of a higher being, and that sort of thing ought to be encouraged," + '"' + " sighs the Knacker. He holds up his hand, and a quivering folding-unfolding geometrically-impossible shape manifests above his palm. " + '"' + "Here. A toy to play with." + '"')
            ("The two Threaded turn away from you, dismissing you from their thoughts entirely. The woman nudges the corpse of the Vessel with the tip of her foot. " + '"' + "This will have to be cleaned up," + '"' + " she remarks off-handedly.")
            ("Gained x1 Oscillating Prism", "Treasure", 1)
            ("Leave.", "An unpleasant story, but at least you got something shiny out of it.", "")
        else if (DialogueScreen == "SecondScreen" && GatheringNews == 1)
            ("T")
            ("HE LATEST GOINGS-ON")
                News1 = "A new god has been brought in for slaughter, ancient and scared. The Knackers have imposed a curfew. A statue of the Imperator has been defaced."
                News2 = "Whispers that the Knackers plot against the Imperatrix. Echoes of screams from the Shambles have persisted long since its last victim perished. The latest god dragged in escaped from its bonds, causing havoc."
                News3 = "The Shambles is sitting in a slightly different place than it was yesterday, and even the Knackers are baffled. A diplomat from Byssus has vanished. Vessels have started to shriek in their sleep, through Threaded citizens are unaffected."
                News1 = "A new god has been brought in for slaughter, ancient and scared. The Knackers have imposed a curfew. The Knackers are enjoying new heights of power, ever since one of their own became Imperator."
                News2 = "The new Imperator has made a speech, to rapturous applause. Echoes of screams from the Shambles have persisted long since its last victim perished. The latest god dragged in escaped from its bonds, causing havoc."
                News3 = "The Shambles is sitting in a slightly different place than it was yesterday, and even the Knackers are baffled. The Imperator has declared Mergulus the Empire's new capital. Vessels have started to shriek in their sleep, through Threaded citizens are unaffected."
            ("Gained x1 Current Affairs: Mergulus", "Logbook", 4)
            ("Well, well.", "The Threaded citizen resumes flensing, hovering ten feet in the air and cutting away great strips of blubbery god-flesh.", "#")
        else if (DialogueScreen == "SecondScreen" && MiscellaneousEvent == 1)
        else if (DialogueScreen == "SecondScreen" && MiscOptions == 1)
            ("C")
            ("APTAIN'S QUARTERS")
            ("The machine greets you with a steady, soothing hum. In your quarters, you can safely decide what side activity to pursue. Deal with prisoners? Drink something? Operate on your own memories, perhaps?")
            ("Return to location.", "")
        else if (DialogueScreen == "LastScreen")
            ("T")
            ("EST")
            ("Successful test.")
            ("Return.", "", "")
    draw_text(((view_wport[(0 << 0)] * 0.5) - 3), ((view_hport[(0 << 0)] * 0.75) - 3), "Mergulus")
    draw_text((view_wport[(0 << 0)] * 0.5), (view_hport[(0 << 0)] * 0.75), "Mergulus")
