if (BoxMode == "Event")
            oPlayer.LastVisitedForSavePurposes = "Filimenor"
            FileSelected = "SaveFile0.homd"
        else if (DialogueScreen == "FirstScreen")
                ("F")
                ("ILIMENOR")
                ("The gateway to the rest of the Empire, where the unthreaded are forbidden to tread. 'Gateway' is no metaphor - the entire city is built atop and inside a gate which fills the room from floor to wall to ceiling.")
                if NextButton("Predictably, the Empire has lined their gate with the spiked heads of gods. Each looks immensely tired, and regal, and sad.", 1)
                        (("New location visited. " + ApprehensionsString), "Logbook", 4)
                            FileSelected = "SaveFile0.homd"
                        NeedsCargoItem("Release the souls trapped in the lockbox.", "", "[Requires x1 Lockbox of Butchered Souls.]"0, 0.8, HasBox)
                        ("Gather news.", "A Threaded citizen mistakes you for a mindless Vessel. You can eavesdrop on her conversation, for a while.", "")
                        NeedsMoney("Repair your hull.", "Danglehands hang from the distant ceiling: severed hands at the end of long lengths of Thread. They glide silently about your kinetopede, hammering and welding.", (("[This will cost you " + string(FixCost)) + " guineas.]"), FixCost)
                    if (oPlayer.LastVisited != "Filimenor" && global.Filimenor == 0)
                        ("Wander the streets.", "Filimenor is a gate through which you are forbidden to pass. But the city itself is open to you.", "")
                    ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
                ("F")
                ("ILIMENOR")
                    ("The gateway to the rest of the Empire, where the unthreaded are forbidden to tread. 'Gateway' is no metaphor - the entire city is built atop and inside a gate which fills the room from floor to wall to ceiling.")
                        NeedsCargoItem("Release the souls trapped in the lockbox.", "", "[Requires x1 Lockbox of Butchered Souls.]"0, 0.8, HasBox)
                        ("Gather news.", "A Threaded citizen mistakes you for a mindless Vessel. You can eavesdrop on her conversation, for a while.", "")
                        NeedsMoney("Repair your hull.", "Danglehands hang from the distant ceiling: severed hands at the end of long lengths of Thread. They glide silently about your kinetopede, hammering and welding.", (("[This will cost you " + string(FixCost)) + " guineas.]"), FixCost)
                    if (oPlayer.LastVisited != "Filimenor" && global.Filimenor == 0)
                        ("Wander the streets.", "Filimenor is a gate through which you are forbidden to pass. But the city itself is open to you.", "")
                    ("The city is still in anarchy. Threaded warriors battle hordes of hideous swollen god-fragments. The air is choked with smoke and the stench of decay.")
                    ("The great gate to the rest of the Empire is cracked, but somehow it holds.")
                        ("Gather news.", "The Threaded are far too busy fighting to talk. But the truth is self-evident.", "")
                ("Inside the kinetopede.", "Here you can find all miscellaneous options.")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 0)
            ("I")
            ("NTO THE DARK")
            ("You can only go west. The bulk of the Empire is east, behind Filimenor's colossal gates, but unthreaded are not allowed to enter.")
            ("On second thoughts...", "There are matters here that still merit attention.")
            ("Pore over the map.", "Orient yourself before you launch off into the ravenous dark.")
                    BoxMode = "Map"
            ("North.", "Nothing but a sad track along the House's wall.")
                oPlayer.LastVisited = "Filimenor"
                LeavingSpecialRoomDialogueBox("North")
            ("West.", "Byssus, a terrible place, but if you want to see a god, there's your best chance.")
                oPlayer.LastVisited = "Filimenor"
                LeavingSpecialRoomDialogueBox("West")
            ("South.", "Empty spaces and locked doors.")
                oPlayer.LastVisited = "Filimenor"
                LeavingSpecialRoomDialogueBox("South")
        else if (DialogueScreen == "SecondScreen" && LeavingTheCity == 1 && TooHeavyToLeaveTheCity == 1)
        else if (DialogueScreen == "SecondScreen" && FixHull == 1)
        else if (DialogueScreen == "SecondScreen" && DancingQuest == 1)
        else if (DialogueScreen == "SecondScreen" && WanderTheStreets == 1)
                ("F")
                ("ILIMENOR")
                ("A horde of Vessels shuffle past, prodded onward with sticks and whips toward Valorous Man's Hospital.")
                ("As they pass, one of the sad grey figures turns and stares at you with dull bovine eyes. You're not sure he really sees you, but something prickles at the back of your neck.")
                ("Gained x1 Moment of Melancholy", "Logbook", 3)
                ("Slip away.", "The Vessels march on to their doom.", "")
                ("F")
                ("ILIMENOR")
                ("The Empire tolerates unthreaded within its borders, as long as they take care of various menial tasks and don't make too much noise.")
                ("Traffic through Filimenor's main thoroughfare is currently held up by a sign-waving unthreaded who has clearly forgotten the second condition. " + '"' + "It is not real!" + '"' + " he screams, pointing up at the towering gate which dominates the city. " + '"' + "There is no further Empire beyond!" + '"')
                ("Several Threaded citizens glide toward him with terrible purpose. You turn away as he is lifted up and eviscerated.")
                ("Gained x1 Unsettling Conjecture", "Logbook", 4)
                ("Slip away.", "The mood here is ugly. Best that an unthreaded doesn't stay too long.", "")
        else if (DialogueScreen == "SecondScreen" && GatheringNews == 1)
            ("T")
            ("HE LATEST GOINGS-ON")
                News1 = "Valorous Man's Hospital is running short of adequate Vessels. One of the godhead trophies has fallen from its spike, crushing several citizens below. A section of the gate has suffered damage in a recent fire."
                News2 = "There is news from the forbidden Empire beyond Filimenor, where strange new rooms are being discovered. News of an algae-king ruling a sea of bile, of a city built inside a monster's mouth, of an upside-down kingdom made of cardboard."
                News3 = "News from the Empire beyond Filimenor: With the Imperator dead, distant colonies are restless. Groups advocating an end to god-butchery are springing up, though always brutally suppressed. Many are blaming these rebellions on the critical lack of Thread."
                News1 = "The Threaded still have not regained control of Filimenor. Their access to the rest of their Empire has been cut."
                News2 = "The Threaded still have not regained control of Filimenor. Their access to the rest of their Empire has been cut."
                News3 = "The Threaded still have not regained control of Filimenor. Their access to the rest of their Empire has been cut."
            ("Gained x1 Current Affairs: Filimenor", "Logbook", 4)
                ("Well, well.", "The Threaded citizen notices you are listening, and she stops speaking so freely.", "#")
            else ("Well, well.", "You hurry for cover as something ugly bursts from the building behind you.", "")
        else if (DialogueScreen == "SecondScreen" && MiscellaneousEvent == 1)
        else if (DialogueScreen == "SecondScreen" && MiscOptions == 1)
            ("C")
            ("APTAIN'S QUARTERS")
            ("The machine greets you with a steady, soothing hum. In your quarters, you can safely decide what side activity to pursue. Deal with prisoners? Drink something? Operate on your own memories, perhaps?")
            ("Return to location.", "")
        else if (DialogueScreen == "LastScreen")
            ("T")
            ("EST")
            ("Successful test.")
            ("Return.", "", "")
    draw_text(((view_wport[(0 << 0)] * 0.5) - 3), ((view_hport[(0 << 0)] * 0.75) - 3), "Filimenor")
    draw_text((view_wport[(0 << 0)] * 0.5), (view_hport[(0 << 0)] * 0.75), "Filimenor")
