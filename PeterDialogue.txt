if (DialogueScreen == "FirstScreen")
    ("P")
    ("ETER MCNALLY")
        CharacterDescription = "His wounds are sickening, his suffering unimaginable, yet somehow he has refused all sedative treatment, requesting meat and whiskey."
        SpecificDescription = "A steely gaze wrapped in a thick woollen jumper, his deep pockets jangling and clanking with practical equipment. He was stolen by the House from another world, of which he will not speak."
            WoundDescription = " ##He has cuts and scrapes on his hands, which he has covered in thick gauze."
            WoundDescription = " ##He's suffered great injury, but refuses all help."
            WoundDescription = ""
            SanityDescription = " ##Other crew have been complaining of him scrawling strange messages in their rooms and levitating unnervingly over their beds."
            SanityDescription = ""
    ("Return.", "Leave Peter to his duties.")
        ("See how he's settling in.", "He's still new to the House. He'd probably appreciate your help.")
        ("Flirt with Peter.", "A certain smile, a lingering look. Gauge his openness to a relationship. You never know where it might lead...")
        ("Speak to Peter about his memories of Kennedy Yard.", "He flinches when you bring it up, but once he starts speaking he can't stop.")
        ("Ask Peter if he wants to keep his memories of Kennedy Yard.", "Without them, he would have his powers again.")
        ("Peter barges into your quarters.", "He has a proposal. And a slightly frantic smile on his big bearded face.", "[This option is available because you have <60 Sanity.]"0, 0.8)
            ("Ask if he knows anything about the City of Glass.")
        NeedsInformationItem("Meditation.", "Peter sits cross-legged, deep in thought. You sit beside him.", "[This will increase your Insight by 1, and cost you 15 Apprehensions.]")
else if (DialogueScreen == "SecondScreen" && IncreasingInsight == 1)
    ("P")
    ("ETER MCNALLY")
    ("You sit beside Peter and close your eyes for several minutes, listening to his oddly shallow breathing.")
    ("Your eyes flicker open again as the gas-lamp flickers out, plunging the room in darkness. A book falls off a nearby shelf, and opens to a blank page. The room has become extremely cold, all of a sudden. Then Peter opens his eyes again, and he shoots you a queasy smile.")
    ('"' + "Come on," + '"' + " he says. " + '"' + "There is work to be done." + '"' + " He wipes a streak of blood from his nostril.")
    ("+1 Insight", "Challenge", 2)
    ("An unnerving start to the day.", "Peter busies himself with a chunk of wood beside his bed, whittling and whistling.")
else if (DialogueScreen == "SecondScreen" && CharacterFlirt == 1)
    ("P")
    ("ETER MCNALLY")
    ("Peter quickly catches on to what you're hinting. He shakes his head ruefully. " + '"' + "I'm not looking for a relationship right now, mate," + '"' + " he says. " + '"' + "Chin up! Plenty more fish in the sea and all that." + '"')
    ("[Peter is not interested in a relationship.]", "Romance", 5)
    ("And that's the end of that.")
else if (DialogueScreen == "SecondScreen" && GlassQuest1 == 1)
    ("P")
    ("ETER MCNALLY")
    ("Peter shrugs. " + '"' + "Not got the foggiest, mate," + '"' + " he says.")
    ("No luck.")
else if (DialogueScreen == "SecondScreen" && PeterQuest1 == 1)
    ("P")
    ("ETER MCNALLY")
    ("You find Peter sitting at his desk, poring over a stack of yellowing maps with a battered copper compass in one hand.")
    (((((((('"' + "Good news, " + oPlayer.PlayerName) + ",") + '"') + " he says brightly. ") + '"') + "My compass still works! I have no idea where the House's magnetic poles are, but they seem to exist.") + '"'))
    ("Sure enough, the needle is quivering. Odd. A compass in the House is usually purely decorative, a useless relic of another world.")
        ('"' + "How are you settling in?" + '"')
        ('"' + "That compass really shouldn't be working, Peter." + '"', "For that matter, nor should the maps. The House changes over the years, and maps are quickly obsolete.")
    ('"' + "Do you have any questions about the House?" + '"')
else if (DialogueScreen == "SecondScreen" && PeterQuest2 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "I'm enjoying myself, actually," + '"' + " says Peter. " + '"' + "It beats being locked up!" + '"')
    ("+1 Relationship: Peter McNally", "Logbook", 5)
        ('"' + "How are you settling in?" + '"')
        ('"' + "That compass really shouldn't be working, Peter." + '"', "For that matter, nor should the maps. The House changes over the years, and maps are quickly obsolete.")
    ('"' + "Do you have any questions about the House?" + '"')
else if (DialogueScreen == "SecondScreen" && PeterQuest3 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "Shouldn't it?" + '"' + " Peter frowns and taps the compass a few times. " + '"' + "How odd. It certainly seems to be finding something. Ah well - another mystery to solve." + '"')
        ('"' + "How are you settling in?" + '"')
        ('"' + "That compass really shouldn't be working, Peter." + '"', "For that matter, nor should the maps. The House changes over the years, and maps are quickly obsolete.")
    ('"' + "Do you have any questions about the House?" + '"')
else if (DialogueScreen == "SecondScreen" && PeterQuest5 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "I do, actually." + '"' + " Peter taps the side of his head. " + '"' + "How the hell do you all cope with that constant dull thudding noise? It's always there at the back of my mind, ever since I got here. Tump, tump, tump. It's driving me mad." + '"')
    ("The kinetopede is silent, except for the chuntering engine and the occasional creak of a mechanical limb. There's definitely no maddening thumping noise.")
    ('"' + "There's no such noise, Peter." + '"', "He has to know this isn't normal.")
    ('"' + "Oh, we get used to it! Ha. Ha ha." + '"', "No need to alarm him.")
else if (DialogueScreen == "SecondScreen" && PeterQuest6 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "Oh? Maybe... Maybe I hit my head or something." + '"' + " He rubs his temple. " + '"' + "I even hear it in my dreams. In fact, in my dreams it might be at its loudest." + '"')
    ("Concerns updated: Heart and Mind", "Logbook", 6)
    ("Gained x1 Disquieting Incident", "Logbook", 3)
    ("+1 Relationship: Peter McNally", "Logbook", 5)
    ("Peter returns to studying his maps, frowning deeply.", "He doesn't seem to want to discuss the matter any further.")
        ChangeConcernsDescription(127, "Peter has been complaining of a heartbeat thudding behind his eyes. There is nothing you can do about it yet.")
else if (DialogueScreen == "SecondScreen" && PeterQuest7 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "I don't know if I'll ever get used to it." + '"' + " He rubs his temple. " + '"' + "I even hear it in my dreams. In fact, in my dreams it might be at its loudest." + '"')
    ("Concerns updated: Heart and Mind", "Logbook", 6)
    ("Gained x1 Disquieting Incident", "Logbook", 3)
    ("+1 Relationship: Peter McNally", "Logbook", 5)
    ("Peter returns to studying his maps, frowning deeply.", "He doesn't seem to want to discuss the matter any further.")
        ChangeConcernsDescription(127, "Peter has been complaining of a heartbeat thudding behind his eyes. There is nothing you can do about it yet.")
else if (DialogueScreen == "SecondScreen" && SecondPeterQuest1 == 1)
    ("P")
    ("ETER MCNALLY")
    ("In a dull monotone, Peter tells you some of what was done to him. He focuses mostly on the objects that were used: scalpels, electrodes, intrusive metal, sacrificial knives. He barely mentions the white-coated people holding these tools, and never speaks about the wailing subject strapped beneath them.")
    ("Finally he falls silent. " + '"' + "Yeah. It was a bad old time." + '"' + " His voice cracks under the strain of bravado.")
    ("Gained x1 Moment of Melancholy", "Logbook", 3)
    ("Gained x1 Evidence: The Governor", "Logbook", 3)
    ("+1 Relationship: Peter McNally", "Logbook", 5)
    ("He busies himself with his outdated maps.")
else if (DialogueScreen == "SecondScreen" && ThirdPeterQuest1 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "I would rather know the truth about what happened to me," + '"' + " says Peter. " + '"' + "It makes me less useful to you, and that's a shame. But I prefer that my mind is my own again. I'm back to relying on my own two hands." + '"')
    ('"' + "Besides. I can no longer hear that damned heartbeat." + '"' + " He sighs, a beatific smile spreading across his face. " + '"' + "I have silence again." + '"')
    ("Respect Peter's wishes.", "You'll let him keep his memories.", "[This will permanently end Peter's storyline.]"0, 0.8)
    ("Decide later.", "One day in the future, perhaps, you will take his memories out of his skull. But not today.", "[This keeps your options open. You can decide later to either respect his wishes or steal his memories.]"0, 0.8)
    NeedsCargoItem("Steal Peter's memories of Kennedy Yard.", "He is more of an asset when without them.", (("[Requires x1 Empty Memory-box. You currently have x" + string(CargoReturnNumberOfItems(90))) + ".]")0, 0.8, HasBox)
else if (DialogueScreen == "SecondScreen" && ThirdPeterQuest2 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "Thank you for everything, mate," + '"' + " says Peter. " + '"' + "I might not have crazy mind-powers any more, but I can promise you there's none more loyal." + '"')
    ("You sit with him late into the night, listening to stories of the life he led on his old world - travelling across and between continents, tailing enemy agents, watching people through binoculars, occasionally fighting for his life. He does his very best to make it sound boring - 'most of it was paperwork, really' - but fortunately he doesn't succeed.")
    ("Gained x1 Glimpse of Another World", "Logbook", 3)
    ("Gained x1 Thrilling Yarn", "Logbook", 3)
    ("Concerns concluded: Heart and Mind", "Logbook", 6)
    ("+3 Relationship: Peter McNally", "Logbook", 5)
    ("You respected Peter's wishes.", "He may have seemed shrunken when he first left the Fortress, but he quickly regains his former ebullience. He's soon wandering about the kinetopede with a multitool, chatting to the crew and helping out with everything he can.")
        ChangeConcerns2Description(127, "You respected Peter's wishes.")
else if (DialogueScreen == "SecondScreen" && ThirdPeterQuest3 == 1)
    ("P")
    ("ETER MCNALLY")
    ("You wait until Peter is asleep. After gathering the rest of your crew, you spring through his bedroom door and tie him up.")
    ("He can do little but struggle and spit curses as you slam the Memory-box down next to him and force its nozzle into the side of his head. " + '"' + "No," + '"' + " he gasps, his eyes rolling. " + '"' + "I don't want to hear that damn heartbeat again - stop it - help me -" + '"')
    ("You crank the memory-box's handle round and round, and he falls silent as his memories of Kennedy Yard are unwound from his brain.")
        ("Gained x1 Distinction: Memory Thief", "Logbook", 1)
    ("Lost x1 Empty Memory-box", "Cargo", 1)
    ("Lost some Sanity", "Sanity", 0)
    if (oPlayer.Pilot != "Bishop Landman" && oPlayer.Pilot != "Tera Skae" && oPlayer.Pilot != "Dead" && oPlayer.Pilot != "Gone")
        ("Your Pilot is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.ChiefEngineer == "Lucetta Quetzl")
        ("Your Chief Engineer is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.GuardCaptain != "Tybalt Balsamic" && oInventories.TybaltGoneMad == 1 && oPlayer.GuardCaptain != "Ashen" && oPlayer.GuardCaptain != "Ransack Morton" && oPlayer.GuardCaptain != "Gone" && oPlayer.GuardCaptain != "Dead")
        ("Your Guard Captain is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.Navigator == "Cromlech" || oPlayer.Navigator == "Peter McNally")
        ("Your Navigator is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.Lookout == "Finnegan Skip")
        ("Your Lookout is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.Lightbearer == "Otto Von Honbach")
        ("Your Lightbearer is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.Surgeon == "Jhang Ba Sho" || oPlayer.Surgeon == "Rotherford")
        ("Your Surgeon is upset by this action. -2 Relationship.", "Logbook", 5)
    if (oPlayer.Recordkeeper != "Bishop Landman" && oPlayer.Recordkeeper != "Jack of Quills" && oPlayer.Recordkeeper != "Dead" && oPlayer.Recordkeeper != "Gone")
        ("Your Recordkeeper is upset by this action. -2 Relationship.", "Logbook", 5)
    ("Gained x1 Box of Redacted Memories", "Cargo", 1)
    ("When you're done, you leave him to sleep.", "It will be a while before he recovers.")
        if (oPlayer.ChiefEngineer == "Lucetta Quetzl")
        if (oPlayer.Surgeon == "Jhang Ba Sho")
        if (oPlayer.Surgeon == "Rotherford")
        if (oPlayer.GuardCaptain == "Fiona McConnaghe")
        if (oPlayer.GuardCaptain == "Abbas Salem")
        if (oPlayer.Recordkeeper == "Penpusher")
        if (oPlayer.Recordkeeper == "Bradley Baggs")
        if (oPlayer.Recordkeeper == "Harmony Ricketts")
        if (oPlayer.Lightbearer == "Otto Von Honbach")
        if (oPlayer.Navigator == "Cromlech")
        if (oPlayer.Navigator == "Peter McNally")
        if (oPlayer.Pilot == "Avery Goodwin")
        if (oPlayer.Pilot == "Banjo Smiggs")
        if (oPlayer.Pilot == "Augustus Ribbins")
        if (oPlayer.Lookout == "Finnegan Skip")
        if (oPlayer.GuardCaptain == "Tybalt Balsamic IV" && oInventories.TybaltGoneMad == 0)
        if (!steam_get_achievement("MEMORY_THIEF"))
            steam_set_achievement("MEMORY_THIEF")
else if (DialogueScreen == "SecondScreen" && ThirdPeterQuest4 == 1)
    ("P")
    ("ETER MCNALLY")
    ("The next morning, Peter comes down into the mess hall with a broad grin on his face. " + '"' + "What's the grub for today, then?" + '"' + " he asks, rummaging through cupboards. The rest of the crew sit in uneasy silence. ")
    ('"' + "What's the matter with you lot? Has someone died?" + '"' + " He sits down with a bowl of reheated mincemeat, tapping the table rhythmically with his spoon. " + '"' + "Tump. Tump. Tump. The heart is calling again. It never stops. It's giving me an even worse headache than usual today." + '"')
    ("Gained x1 Disquieting Incident", "Logbook", 3)
    ("You spent 1 day subduing your Navigator and stealing his memories against his will!", "Time", 6)
    ("[Peter McNally's Insight bonus is now +8 again.]", "Challenge", 1)
    ("Concerns updated: Heart and Mind", "Logbook", 6)
    ("Peter grins broadly, one eye twitching.", ".")
        ChangeConcernsDescription(127, "You removed Peter's memories of Kennedy Yard and returned his powers. But he seems a little more unstable now. Don't let your Sanity get too low...")
else if (DialogueScreen == "SecondScreen" && FourthPeterQuest1 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "We need to go south," + '"' + " he says. " + '"' + "That's where the heartbeat is coming from. I've finally worked it out. South is the ticket." + '"')
    ("He pulls a crumpled map from his pocket. " + '"' + "An ancient ruin. Misericord. The heart beats below. We need to go there. Now." + '"')
    ("Your desk is shaking. Papers flutter back and forth as though caught in a breeze.")
        ('"' + "How do you know this?" + '"')
        ('"' + "How do you even know this heart is real?" + '"')
        ('"' + "Do you have any theories about the heart?" + '"')
    ("Agree.", "We'll travel south to Misericord.")
    ("Refuse.", "That's madness.")
else if (DialogueScreen == "SecondScreen" && FourthPeterQuest2 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "It's just common sense," + '"' + " says Peter angrily. He has deep rings under his eyes. Has he been sleeping at all?")
        ('"' + "How do you know this?" + '"')
        ('"' + "How do you even know this heart is real?" + '"')
        ('"' + "Do you have any theories about the heart?" + '"')
    ("Agree.", "We'll travel south to Misericord.")
    ("Refuse.", "That's madness.")
else if (DialogueScreen == "SecondScreen" && FourthPeterQuest3 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "It's real," + '"' + " says Peter. " + '"' + "I hear it all the time. Tump tump tump. It's beating right now. I can't even hear myself speak." + '"')
    ("A coffee-mug flings itself from a nearby shelf and shatters against the wall. Peter studiously cleans it up, repeating " + '"' + "tump tump tump" + '"' + " mindlessly as he does so.")
        ('"' + "How do you know this?" + '"')
        ('"' + "How do you even know this heart is real?" + '"')
        ('"' + "Do you have any theories about the heart?" + '"')
    ("Agree.", "We'll travel south to Misericord.")
    ("Refuse.", "That's madness.")
else if (DialogueScreen == "SecondScreen" && FourthPeterQuest4 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "I think it's the engine that powers the House," + '"' + " he says. " + '"' + "I'm going to find a way to control it. Hollow it out. Build a machine inside it that takes me to other dimensions. Tump, tump, tump. And if I can't do that, I'm going to silence it." + '"')
    ("With that, he actually giggles. You've never heard him make a sound like that before. A crack appears in your window.")
    ("Gained x1 Disquieting Incident", "Logbook", 3)
        ('"' + "How do you know this?" + '"')
        ('"' + "How do you even know this heart is real?" + '"')
        ('"' + "Do you have any theories about the heart?" + '"')
    ("Agree.", "We'll travel south to Misericord.")
    ("Refuse.", "That's madness.")
else if (DialogueScreen == "SecondScreen" && FourthPeterQuest5 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "Excellent." + '"' + " The desk stops rattling. The papers settle down. Peter turns and strides away, humming to himself in short staccato bursts.")
    ("Concerns updated: Heart and Mind", "Logbook", 6)
    ("Tidy your desk.", "Your papers have been thrown completely out of order.")
        ChangeConcernsDescription(127, "Peter claims the heartbeat originates in Misericord, to the south. He wants to investigate.")
else if (DialogueScreen == "SecondScreen" && FourthPeterQuest6 == 1)
    ("P")
    ("ETER MCNALLY")
    ('"' + "Try to see this from my point of view!" + '"' + " shouts Peter. A groan of metal. " + '"' + "I can't stop hearing this - noise -!" + '"' + " The floor shakes. " + '"' + "And my head is all - jumbled up! I can't even remember the last few months!" + '"' + " With a clang, a massive dent appears in the metal wall beside your head.")
        ("Peter takes a deep breath. " + '"' + "Sorry, that was out of line," + '"' + " he says. " + '"' + "I can repair that. Let me go and do that now." + '"' + " He pauses, hovering at the door. Literally hovering - his feet are about six inches from the floor. " + '"' + "I hope you reconsider, captain. We need to head to Misericord. Trust me on this." + '"')
        ("And then he leaves to fetch his toolbox.")
        ("-3 Relationship: Peter McNally", "Logbook", 5)
        ("Lost some Hull Integrity!", "Kinetopede", 0)
        ("Lost some Sanity", "Sanity", 0)
        ("Tidy your desk.", "Your papers have been thrown completely out of order.")
        ("Another hideous screech of twisting metal. Another dent appears. Then the entire metal wall splits in half with a crash, peeled aside like wrapping-paper and exposing you and Peter to the hungry darkness outside.")
        ('"' + "Goodbye, captain," + '"' + " says Peter. " + '"' + "I am going to Misericord alone. Maybe we will see each other again, in some other time." + '"')
        ("He strides out into the darkness and is gone, leaving you cold and alone and with a bloody great hole torn in your wall.")
        ("Peter McNally is gone!", "Logbook", 5)
        ("-15 Relationship: Peter McNally", "Logbook", 5)
        ("You lost a great deal of Hull Integrity!", "Kinetopede", 5)
        ("Concerns concluded: Heart and Mind", "Logbook", 6)
        ("Lost some Sanity", "Sanity", 0)
        ("Call for your engineers.", "Before the darkness consumes us all.")
            ChangeConcerns2Description(127, "Peter left your crew.")
            oPlayer.Navigator = "Dead"
